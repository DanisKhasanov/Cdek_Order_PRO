{
  "version": 3,
  "sources": ["../../suggestions-jquery/dist/js/jquery.suggestions.js"],
  "sourcesContent": ["/**\n * DaData.ru Suggestions jQuery plugin, version 22.6.0\n *\n * DaData.ru Suggestions jQuery plugin is freely distributable under the terms of MIT-style license\n * Built on DevBridge Autocomplete for jQuery (https://github.com/devbridge/jQuery-Autocomplete)\n * For details, see https://github.com/hflabs/suggestions-jquery\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) :\n\ttypeof define === 'function' && define.amd ? define(['jquery'], factory) :\n\t(factory(global.jQuery));\n}(this, (function ($) { 'use strict';\n\n$ = $ && $.hasOwnProperty('default') ? $['default'] : $;\n\n/**\n * Утилиты для работы с типами.\n */\nvar lang_util = {\n    /**\n     * Проверяет, является ли аргумент массивом.\n     */\n    isArray: function(array) {\n        return Array.isArray(array);\n    },\n\n    /**\n     * Проверяет, является ли аргумент функцией.\n     */\n    isFunction: function(it) {\n        return Object.prototype.toString.call(it) === \"[object Function]\";\n    },\n\n    /**\n     * Проверяет, является ли аргумент пустым объектом ({}).\n     */\n    isEmptyObject: function(obj) {\n        return Object.keys(obj).length === 0 && obj.constructor === Object;\n    },\n\n    /**\n     * Проверяет, является ли аргумент «обычным» объектом\n     * (не undefiend, не null, не DOM-элемент)\n     */\n    isPlainObject: function(obj) {\n        if (\n            obj === undefined ||\n            typeof obj !== \"object\" ||\n            obj === null ||\n            obj.nodeType ||\n            obj === obj.window\n        ) {\n            return false;\n        }\n        if (\n            obj.constructor &&\n            !Object.prototype.hasOwnProperty.call(\n                obj.constructor.prototype,\n                \"isPrototypeOf\"\n            )\n        ) {\n            return false;\n        }\n        return true;\n    }\n};\n\n/**\n * Утилиты для работы с коллекциями.\n */\nvar collection_util = {\n    /**\n     * Возвращает массив без пустых элементов\n     */\n    compact: function(array) {\n        return array.filter(function(el) {\n            return !!el;\n        });\n    },\n\n    /**\n     * Итерирует по элементам массива или полям объекта.\n     * Ведёт себя как $.each() - прерывает выполнение, если функция-обработчик возвращает false.\n     * @param {Object|Array} obj - массив или объект\n     * @param {eachCallback} callback - функция-обработчик\n     */\n    each: function(obj, callback) {\n        if (Array.isArray(obj)) {\n            obj.some(function(el, idx) {\n                return callback(el, idx) === false;\n            });\n            return;\n        }\n        Object.keys(obj).some(function(key) {\n            var value = obj[key];\n            return callback(value, key) === false;\n        });\n    },\n\n    /**\n     * Пересечение массивов: ([1,2,3,4], [2,4,5,6]) => [2,4]\n     * Исходные массивы не меняются.\n     */\n    intersect: function(array1, array2) {\n        var result = [];\n        if (!Array.isArray(array1) || !Array.isArray(array2)) {\n            return result;\n        }\n        return array1.filter(function(el) {\n            return array2.indexOf(el) !== -1;\n        });\n    },\n\n    /**\n     * Разность массивов: ([1,2,3,4], [2,4,5,6]) => [1,3]\n     * Исходные массивы не меняются.\n     */\n    minus: function(array1, array2) {\n        if (!array2 || array2.length === 0) {\n            return array1;\n        }\n        return array1.filter(function(el) {\n            return array2.indexOf(el) === -1;\n        });\n    },\n\n    /**\n     * Обрачивает переданный объект в массив.\n     * Если передан массив, возвращает его копию.\n     */\n    makeArray: function(arrayLike) {\n        if (lang_util.isArray(arrayLike)) {\n            return Array.prototype.slice.call(arrayLike);\n        } else {\n            return [arrayLike];\n        }\n    },\n\n    /**\n     * Разность массивов с частичным совпадением элементов.\n     * Если элемент второго массива включает в себя элемент первого,\n     * элементы считаются равными.\n     */\n    minusWithPartialMatching: function(array1, array2) {\n        if (!array2 || array2.length === 0) {\n            return array1;\n        }\n        return array1.filter(function(el) {\n            return !array2.some(function(el2) {\n                return el2.indexOf(el) === 0;\n            });\n        });\n    },\n\n    /**\n     * Копирует массив, начиная с указанного элемента.\n     * @param obj - массив\n     * @param start - индекс, начиная с которого надо скопировать\n     */\n    slice: function(obj, start) {\n        return Array.prototype.slice.call(obj, start);\n    }\n};\n\n/**\n * Утилиты для работы с функциями.\n */\nvar func_util = {\n    /**\n     * Выполняет функцию с указанной задержкой.\n     * @param {Function} handler - функция\n     * @param {number} delay - задержка в миллисекундах\n     */\n    delay: function(handler, delay) {\n        return setTimeout(handler, delay || 0);\n    }\n};\n\n/**\n * Утилиты для работы с объектами.\n */\nvar object_util = {\n    /**\n     * Сравнивает два объекта по полям, которые присутствуют в обоих\n     * @returns {boolean} true, если поля совпадают, false в противном случае\n     */\n    areSame: function self(a, b) {\n        var same = true;\n\n        if (typeof a != typeof b) {\n            return false;\n        }\n\n        if (typeof a == \"object\" && a != null && b != null) {\n            collection_util.each(a, function(value, i) {\n                return (same = self(value, b[i]));\n            });\n            return same;\n        }\n\n        return a === b;\n    },\n\n    /**\n     * Копирует свойства и их значения из исходных объектов в целевой\n     */\n    assign: function(target, varArgs) {\n        if (typeof Object.assign === \"function\") {\n            return Object.assign.apply(null, arguments);\n        }\n        if (target == null) {\n            // TypeError if undefined or null\n            throw new TypeError(\"Cannot convert undefined or null to object\");\n        }\n\n        var to = Object(target);\n\n        for (var index = 1; index < arguments.length; index++) {\n            var nextSource = arguments[index];\n\n            if (nextSource != null) {\n                // Skip over if undefined or null\n                for (var nextKey in nextSource) {\n                    // Avoid bugs when hasOwnProperty is shadowed\n                    if (\n                        Object.prototype.hasOwnProperty.call(\n                            nextSource,\n                            nextKey\n                        )\n                    ) {\n                        to[nextKey] = nextSource[nextKey];\n                    }\n                }\n            }\n        }\n        return to;\n    },\n\n    /**\n     * Клонирует объект глубоким копированием\n     */\n    clone: function(obj) {\n        return JSON.parse(JSON.stringify(obj));\n    },\n\n    /**\n     * Возвращает копию объекта без пустых полей\n     * (без undefined, null и '')\n     * @param obj\n     */\n    compact: function(obj) {\n        var copy = object_util.clone(obj);\n\n        collection_util.each(copy, function(val, key) {\n            if (val === null || val === undefined || val === \"\") {\n                delete copy[key];\n            }\n        });\n\n        return copy;\n    },\n\n    /**\n     * Проверяет, что указанные поля в объекте заполнены.\n     * @param {Object} obj - проверяемый объект\n     * @param {Array} fields - список названий полей, которые надо проверить\n     * @returns {boolean}\n     */\n    fieldsAreNotEmpty: function(obj, fields) {\n        if (!lang_util.isPlainObject(obj)) {\n            return false;\n        }\n        var result = true;\n        collection_util.each(fields, function(field, i) {\n            result = !!obj[field];\n            return result;\n        });\n        return result;\n    },\n\n    /**\n     * Возвращает вложенное значение по указанному пути\n     * например, 'data.address.value'\n     */\n    getDeepValue: function self(obj, name) {\n        var path = name.split(\".\"),\n            step = path.shift();\n\n        return (\n            obj && (path.length ? self(obj[step], path.join(\".\")) : obj[step])\n        );\n    },\n\n    /**\n     * Возвращает карту объектов по их идентификаторам.\n     * Принимает на вход массив объектов и идентифицирующее поле.\n     * Возвращает карты, ключом в которой является значение идентифицирующего поля,\n     *   а значением — исходный объект.\n     * Заодно добавляет объектам поле с порядковым номером.\n     * @param {Array} objectsArray - массив объектов\n     * @param {string} idField - название идентифицирующего поля\n     * @param {string} indexField - название поля с порядковым номером\n     * @return {Object} карта объектов по их идентификаторам\n     */\n    indexObjectsById: function(objectsArray, idField, indexField) {\n        var result = {};\n\n        collection_util.each(objectsArray, function(obj, idx) {\n            var key = obj[idField];\n            var val = {};\n\n            if (indexField) {\n                val[indexField] = idx;\n            }\n\n            result[key] = object_util.assign(val, obj);\n        });\n\n        return result;\n    }\n};\n\nvar KEYS = {\n    ENTER: 13,\n    ESC: 27,\n    TAB: 9,\n    SPACE: 32,\n    UP: 38,\n    DOWN: 40\n};\n\nvar CLASSES = {\n    hint: \"suggestions-hint\",\n    mobile: \"suggestions-mobile\",\n    nowrap: \"suggestions-nowrap\",\n    promo: \"suggestions-promo\",\n    selected: \"suggestions-selected\",\n    suggestion: \"suggestions-suggestion\",\n    subtext: \"suggestions-subtext\",\n    subtext_inline: \"suggestions-subtext suggestions-subtext_inline\",\n    subtext_delimiter: \"suggestions-subtext-delimiter\",\n    subtext_label: \"suggestions-subtext suggestions-subtext_label\",\n    removeConstraint: \"suggestions-remove\",\n    value: \"suggestions-value\"\n};\n\nvar EVENT_NS = \".suggestions\";\nvar DATA_ATTR_KEY = \"suggestions\";\nvar WORD_DELIMITERS = \"\\\\s\\\"'~\\\\*\\\\.,:\\\\|\\\\[\\\\]\\\\(\\\\)\\\\{\\\\}<>№\";\nvar WORD_PARTS_DELIMITERS = \"\\\\-\\\\+\\\\\\\\\\\\?!@#$%^&\";\n\n/**\n * Утилиты для работы с текстом.\n */\n\nvar WORD_SPLITTER = new RegExp(\"[\" + WORD_DELIMITERS + \"]+\", \"g\");\nvar WORD_PARTS_SPLITTER = new RegExp(\"[\" + WORD_PARTS_DELIMITERS + \"]+\", \"g\");\n\nvar text_util = {\n    /**\n     * Заменяет амперсанд, угловые скобки и другие подобные символы\n     * на HTML-коды\n     */\n    escapeHtml: function(str) {\n        var map = {\n            \"&\": \"&amp;\",\n            \"<\": \"&lt;\",\n            \">\": \"&gt;\",\n            '\"': \"&quot;\",\n            \"'\": \"&#x27;\",\n            \"/\": \"&#x2F;\"\n        };\n\n        if (str) {\n            collection_util.each(map, function(html, ch) {\n                str = str.replace(new RegExp(ch, \"g\"), html);\n            });\n        }\n        return str;\n    },\n\n    /**\n     * Эскейпирует символы RegExp-шаблона обратным слешем\n     * (для передачи в конструктор регулярных выражений)\n     */\n    escapeRegExChars: function(value) {\n        return value.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    },\n\n    /**\n     * Приводит слово к нижнему регистру и заменяет ё → е\n     */\n    formatToken: function(token) {\n        return token && token.toLowerCase().replace(/[ёЁ]/g, \"е\");\n    },\n\n    /**\n     * Возвращает регулярное выражение для разбивки строки на слова\n     */\n    getWordExtractorRegExp: function() {\n        return new RegExp(\n            \"([^\" + WORD_DELIMITERS + \"]*)([\" + WORD_DELIMITERS + \"]*)\",\n            \"g\"\n        );\n    },\n\n    /**\n     * Вырезает из строки стоп-слова\n     */\n    normalize: function(str, stopwords) {\n        return text_util.split(str, stopwords).join(\" \");\n    },\n\n    /**\n     * Добивает строку указанным символов справа до указанной длины\n     * @param sourceString  исходная строка\n     * @param targetLength  до какой длины добивать\n     * @param padString  каким символом добивать\n     * @returns строка указанной длины\n     */\n    padEnd: function(sourceString, targetLength, padString) {\n        if (String.prototype.padEnd) {\n            return sourceString.padEnd(targetLength, padString);\n        }\n        targetLength = targetLength >> 0; //floor if number or convert non-number to 0;\n        padString = String(typeof padString !== \"undefined\" ? padString : \" \");\n        if (sourceString.length > targetLength) {\n            return String(sourceString);\n        } else {\n            targetLength = targetLength - sourceString.length;\n            if (targetLength > padString.length) {\n                padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n            }\n            return String(sourceString) + padString.slice(0, targetLength);\n        }\n    },\n\n    /**\n     * Нормализует строку, разбивает на слова,\n     * отсеивает стоп-слова из списка.\n     * Расклеивает буквы и цифры, написанные слитно.\n     */\n    split: function(str, stopwords) {\n        var cleanStr = str\n            .toLowerCase()\n            .replace(\"ё\", \"е\")\n            .replace(/(\\d+)([а-я]{2,})/g, \"$1 $2\")\n            .replace(/([а-я]+)(\\d+)/g, \"$1 $2\");\n\n        var words = collection_util.compact(cleanStr.split(WORD_SPLITTER));\n        if (!words.length) {\n            return [];\n        }\n        var lastWord = words.pop();\n        var goodWords = collection_util.minus(words, stopwords);\n        goodWords.push(lastWord);\n        return goodWords;\n    },\n\n    /**\n     * Заменяет слова на составные части.\n     * В отличие от withSubTokens, не сохраняет исходные слова.\n     */\n    splitTokens: function(tokens) {\n        var result = [];\n        collection_util.each(tokens, function(token, i) {\n            var subtokens = token.split(WORD_PARTS_SPLITTER);\n            result = result.concat(collection_util.compact(subtokens));\n        });\n        return result;\n    },\n\n    /**\n     * Проверяет, включает ли строка 1 строку 2.\n     * Если строки равны, возвращает false.\n     */\n    stringEncloses: function(str1, str2) {\n        return (\n            str1.length > str2.length &&\n            str1.toLowerCase().indexOf(str2.toLowerCase()) !== -1\n        );\n    },\n\n    /**\n     * Возвращает список слов из строки.\n     * При этом первыми по порядку идут «предпочтительные» слова\n     * (те, что не входят в список «нежелательных»).\n     * Составные слова тоже разбивает на части.\n     * @param {string} value - строка\n     * @param {Array} unformattableTokens - «нежелательные» слова\n     * @return {Array} Массив атомарных слов\n     */\n    tokenize: function(value, unformattableTokens) {\n        var tokens = collection_util.compact(\n            text_util.formatToken(value).split(WORD_SPLITTER)\n        );\n        // Move unformattableTokens to the end.\n        // This will help to apply them only if no other tokens match\n        var preferredTokens = collection_util.minus(\n            tokens,\n            unformattableTokens\n        );\n        var otherTokens = collection_util.minus(tokens, preferredTokens);\n        tokens = text_util.withSubTokens(preferredTokens.concat(otherTokens));\n        return tokens;\n    },\n\n    /**\n     * Разбивает составные слова на части\n     * и дописывает их к исходному массиву.\n     * @param {Array} tokens - слова\n     * @return {Array} Массив атомарных слов\n     */\n    withSubTokens: function(tokens) {\n        var result = [];\n        collection_util.each(tokens, function(token, i) {\n            var subtokens = token.split(WORD_PARTS_SPLITTER);\n            result.push(token);\n            if (subtokens.length > 1) {\n                result = result.concat(collection_util.compact(subtokens));\n            }\n        });\n        return result;\n    }\n};\n\n/**\n * jQuery API.\n */\nvar jqapi = {\n    Deferred: function() {\n        return $.Deferred();\n    },\n\n    ajax: function(settings) {\n        return $.ajax(settings);\n    },\n\n    extend: function() {\n        return $.extend.apply(null, arguments);\n    },\n\n    isJqObject: function(obj) {\n        return obj instanceof $;\n    },\n\n    param: function(obj) {\n        return $.param(obj);\n    },\n\n    proxy: function(func, context) {\n        return $.proxy(func, context);\n    },\n\n    select: function(selector) {\n        return $(selector);\n    },\n\n    supportsCors: function() {\n        return $.support.cors;\n    }\n};\n\n/**\n * Утилиты для работы через AJAX\n */\nvar ajax = {\n    /**\n     * HTTP-метод, который поддерживает браузер\n     */\n    getDefaultType: function() {\n        return jqapi.supportsCors() ? \"POST\" : \"GET\";\n    },\n\n    /**\n     * Content-type, который поддерживает браузер\n     */\n    getDefaultContentType: function() {\n        return jqapi.supportsCors()\n            ? \"application/json\"\n            : \"application/x-www-form-urlencoded\";\n    },\n\n    /**\n     * Меняет HTTPS на протокол страницы, если браузер не поддерживает CORS\n     */\n    fixURLProtocol: function(url) {\n        return jqapi.supportsCors()\n            ? url\n            : url.replace(/^https?:/, location.protocol);\n    },\n\n    /**\n     * Записывает параметры в GET-строку\n     */\n    addUrlParams: function(url, params) {\n        return url + (/\\?/.test(url) ? \"&\" : \"?\") + jqapi.param(params);\n    },\n\n    /**\n     * Сериализует объект для передачи по сети.\n     * Либо в JSON-строку (если браузер поддерживает CORS),\n     *   либо в GET-строку.\n     */\n    serialize: function(data) {\n        if (jqapi.supportsCors()) {\n            return JSON.stringify(data, function(key, value) {\n                return value === null ? undefined : value;\n            });\n        } else {\n            data = object_util.compact(data);\n            return jqapi.param(data, true);\n        }\n    }\n};\n\n/**\n * Возвращает автоинкрементный идентификатор.\n * @param {string} prefix - префикс для идентификатора\n */\nvar generateId = (function() {\n    var counter = 0;\n    return function(prefix) {\n        return (prefix || \"\") + ++counter;\n    };\n})();\n\n/**\n * Утилиты на все случаи жизни.\n */\nvar utils = {\n    escapeRegExChars: text_util.escapeRegExChars,\n    escapeHtml: text_util.escapeHtml,\n    formatToken: text_util.formatToken,\n    normalize: text_util.normalize,\n    reWordExtractor: text_util.getWordExtractorRegExp,\n    stringEncloses: text_util.stringEncloses,\n\n    addUrlParams: ajax.addUrlParams,\n    getDefaultContentType: ajax.getDefaultContentType,\n    getDefaultType: ajax.getDefaultType,\n    fixURLProtocol: ajax.fixURLProtocol,\n    serialize: ajax.serialize,\n\n    arrayMinus: collection_util.minus,\n    arrayMinusWithPartialMatching: collection_util.minusWithPartialMatching,\n    arraysIntersection: collection_util.intersect,\n    compact: collection_util.compact,\n    each: collection_util.each,\n    makeArray: collection_util.makeArray,\n    slice: collection_util.slice,\n\n    delay: func_util.delay,\n\n    areSame: object_util.areSame,\n    compactObject: object_util.compact,\n    getDeepValue: object_util.getDeepValue,\n    fieldsNotEmpty: object_util.fieldsAreNotEmpty,\n    indexBy: object_util.indexObjectsById,\n\n    isArray: lang_util.isArray,\n    isEmptyObject: lang_util.isEmptyObject,\n    isFunction: lang_util.isFunction,\n    isPlainObject: lang_util.isPlainObject,\n\n    uniqueId: generateId\n};\n\nvar DEFAULT_OPTIONS = {\n    $helpers: null,\n    autoSelectFirst: false,\n    containerClass: \"suggestions-suggestions\",\n    count: 5,\n    deferRequestBy: 100,\n    enrichmentEnabled: true,\n    formatResult: null,\n    formatSelected: null,\n    headers: null,\n    hint: \"Выберите вариант или продолжите ввод\",\n    initializeInterval: 100,\n    language: null,\n    minChars: 1,\n    mobileWidth: 600,\n    noCache: false,\n    noSuggestionsHint: null,\n    onInvalidateSelection: null,\n    onSearchComplete: $.noop,\n    onSearchError: $.noop,\n    onSearchStart: $.noop,\n    onSelect: null,\n    onSelectNothing: null,\n    onSuggestionsFetch: null,\n    paramName: \"query\",\n    params: {},\n    preventBadQueries: false,\n    requestMode: \"suggest\",\n    scrollOnFocus: false,\n    // основной url, может быть переопределен\n    serviceUrl: \"https://suggestions.dadata.ru/suggestions/api/4_1/rs\",\n    tabDisabled: false,\n    timeout: 3000,\n    triggerSelectOnBlur: true,\n    triggerSelectOnEnter: true,\n    triggerSelectOnSpace: false,\n    type: null,\n    // url, который заменяет serviceUrl + method + type\n    // то есть, если он задан, то для всех запросов будет использоваться именно он\n    // если не поддерживается cors то к url будут добавлены параметры ?token=...&version=...\n    // и заменен протокол на протокол текущей страницы\n    url: null\n};\n\n/**\n * Factory to create same parent checker function\n * @param preprocessFn called on each value before comparison\n * @returns {Function} same parent checker function\n */\nfunction sameParentChecker(preprocessFn) {\n    return function(suggestions) {\n        if (suggestions.length === 0) {\n            return false;\n        }\n        if (suggestions.length === 1) {\n            return true;\n        }\n\n        var parentValue = preprocessFn(suggestions[0].value),\n            aliens = suggestions.filter(function(suggestion) {\n                return (\n                    preprocessFn(suggestion.value).indexOf(parentValue) !== 0\n                );\n            });\n\n        return aliens.length === 0;\n    };\n}\n\n/**\n * Default same parent checker. Compares raw values.\n * @type {Function}\n */\nvar haveSameParent = sameParentChecker(function(val) {\n    return val;\n});\n\n/**\n * Сравнивает запрос c подсказками, по словам.\n * Срабатывает, только если у всех подсказок общий родитель\n * (функция сверки передаётся параметром).\n * Игнорирует стоп-слова.\n * Возвращает индекс единственной подходящей подсказки\n * или -1, если подходящих нет или несколько.\n */\nfunction _matchByWords(stopwords, parentCheckerFn) {\n    return function(query, suggestions) {\n        var queryTokens;\n        var matches = [];\n\n        if (parentCheckerFn(suggestions)) {\n            queryTokens = text_util.splitTokens(\n                text_util.split(query, stopwords)\n            );\n\n            collection_util.each(suggestions, function(suggestion, i) {\n                var suggestedValue = suggestion.value;\n\n                if (text_util.stringEncloses(query, suggestedValue)) {\n                    return false;\n                }\n\n                // check if query words are a subset of suggested words\n                var suggestionWords = text_util.splitTokens(\n                    text_util.split(suggestedValue, stopwords)\n                );\n\n                if (\n                    collection_util.minus(queryTokens, suggestionWords)\n                        .length === 0\n                ) {\n                    matches.push(i);\n                }\n            });\n        }\n\n        return matches.length === 1 ? matches[0] : -1;\n    };\n}\n\n/**\n * Matchers return index of suitable suggestion\n * Context inside is optionally set in types.js\n */\nvar matchers = {\n    /**\n     * Matches query against suggestions, removing all the stopwords.\n     */\n    matchByNormalizedQuery: function(stopwords) {\n        return function(query, suggestions) {\n            var normalizedQuery = text_util.normalize(query, stopwords);\n            var matches = [];\n\n            collection_util.each(suggestions, function(suggestion, i) {\n                var suggestedValue = suggestion.value.toLowerCase();\n                // if query encloses suggestion, than it has already been selected\n                // so we should not select it anymore\n                if (text_util.stringEncloses(query, suggestedValue)) {\n                    return false;\n                }\n                // if there is suggestion that contains query as its part\n                // than we should ignore all other matches, even full ones\n                if (suggestedValue.indexOf(normalizedQuery) > 0) {\n                    return false;\n                }\n                if (\n                    normalizedQuery ===\n                    text_util.normalize(suggestedValue, stopwords)\n                ) {\n                    matches.push(i);\n                }\n            });\n\n            return matches.length === 1 ? matches[0] : -1;\n        };\n    },\n\n    matchByWords: function(stopwords) {\n        return _matchByWords(stopwords, haveSameParent);\n    },\n\n    matchByWordsAddress: function(stopwords) {\n        return _matchByWords(stopwords, haveSameParent);\n    },\n\n    /**\n     * Matches query against values contained in suggestion fields\n     * for cases, when there is only one suggestion\n     * only considers fields specified in fields map\n     * uses partial matching:\n     *   \"0445\" vs { value: \"ALFA-BANK\", data: { \"bic\": \"044525593\" }} is a match\n     */\n    matchByFields: function(fields) {\n        return function(query, suggestions) {\n            var tokens = text_util.splitTokens(text_util.split(query));\n            var suggestionWords = [];\n\n            if (suggestions.length === 1) {\n                if (fields) {\n                    collection_util.each(fields, function(stopwords, field) {\n                        var fieldValue = object_util.getDeepValue(\n                            suggestions[0],\n                            field\n                        );\n                        var fieldWords =\n                            fieldValue &&\n                            text_util.splitTokens(\n                                text_util.split(fieldValue, stopwords)\n                            );\n\n                        if (fieldWords && fieldWords.length) {\n                            suggestionWords = suggestionWords.concat(\n                                fieldWords\n                            );\n                        }\n                    });\n                }\n\n                if (\n                    collection_util.minusWithPartialMatching(\n                        tokens,\n                        suggestionWords\n                    ).length === 0\n                ) {\n                    return 0;\n                }\n            }\n\n            return -1;\n        };\n    }\n};\n\nvar ADDRESS_STOPWORDS = [\n    \"ао\",\n    \"аобл\",\n    \"дом\",\n    \"респ\",\n    \"а/я\",\n    \"аал\",\n    \"автодорога\",\n    \"аллея\",\n    \"арбан\",\n    \"аул\",\n    \"б-р\",\n    \"берег\",\n    \"бугор\",\n    \"вал\",\n    \"вл\",\n    \"волость\",\n    \"въезд\",\n    \"высел\",\n    \"г\",\n    \"городок\",\n    \"гск\",\n    \"д\",\n    \"двлд\",\n    \"днп\",\n    \"дор\",\n    \"дп\",\n    \"ж/д_будка\",\n    \"ж/д_казарм\",\n    \"ж/д_оп\",\n    \"ж/д_платф\",\n    \"ж/д_пост\",\n    \"ж/д_рзд\",\n    \"ж/д_ст\",\n    \"жилзона\",\n    \"жилрайон\",\n    \"жт\",\n    \"заезд\",\n    \"заимка\",\n    \"зона\",\n    \"к\",\n    \"казарма\",\n    \"канал\",\n    \"кв\",\n    \"кв-л\",\n    \"км\",\n    \"кольцо\",\n    \"комн\",\n    \"кордон\",\n    \"коса\",\n    \"кп\",\n    \"край\",\n    \"линия\",\n    \"лпх\",\n    \"м\",\n    \"массив\",\n    \"местность\",\n    \"мкр\",\n    \"мост\",\n    \"н/п\",\n    \"наб\",\n    \"нп\",\n    \"обл\",\n    \"округ\",\n    \"остров\",\n    \"оф\",\n    \"п\",\n    \"п/о\",\n    \"п/р\",\n    \"п/ст\",\n    \"парк\",\n    \"пгт\",\n    \"пер\",\n    \"переезд\",\n    \"пл\",\n    \"пл-ка\",\n    \"платф\",\n    \"погост\",\n    \"полустанок\",\n    \"починок\",\n    \"пр-кт\",\n    \"проезд\",\n    \"промзона\",\n    \"просек\",\n    \"просека\",\n    \"проселок\",\n    \"проток\",\n    \"протока\",\n    \"проулок\",\n    \"р-н\",\n    \"рзд\",\n    \"россия\",\n    \"рп\",\n    \"ряды\",\n    \"с\",\n    \"с/а\",\n    \"с/мо\",\n    \"с/о\",\n    \"с/п\",\n    \"с/с\",\n    \"сад\",\n    \"сквер\",\n    \"сл\",\n    \"снт\",\n    \"спуск\",\n    \"ст\",\n    \"ст-ца\",\n    \"стр\",\n    \"тер\",\n    \"тракт\",\n    \"туп\",\n    \"у\",\n    \"ул\",\n    \"уч-к\",\n    \"ф/х\",\n    \"ферма\",\n    \"х\",\n    \"ш\",\n    \"бульвар\",\n    \"владение\",\n    \"выселки\",\n    \"гаражно-строительный\",\n    \"город\",\n    \"деревня\",\n    \"домовладение\",\n    \"дорога\",\n    \"квартал\",\n    \"километр\",\n    \"комната\",\n    \"корпус\",\n    \"литер\",\n    \"леспромхоз\",\n    \"местечко\",\n    \"микрорайон\",\n    \"набережная\",\n    \"область\",\n    \"переулок\",\n    \"платформа\",\n    \"площадка\",\n    \"площадь\",\n    \"поселение\",\n    \"поселок\",\n    \"проспект\",\n    \"разъезд\",\n    \"район\",\n    \"республика\",\n    \"село\",\n    \"сельсовет\",\n    \"слобода\",\n    \"сооружение\",\n    \"станица\",\n    \"станция\",\n    \"строение\",\n    \"территория\",\n    \"тупик\",\n    \"улица\",\n    \"улус\",\n    \"участок\",\n    \"хутор\",\n    \"шоссе\"\n];\n\n/**\n * Компоненты адреса\n * @type {*[]}\n * id {String} Наименование типа\n * fields {Array of Strings}\n * forBounds {Boolean} может использоваться в ограничениях\n * forLocations {Boolean}\n * kladrFormat {Object}\n * fiasType {String} Наименование соответствующего ФИАС типа\n */\nvar ADDRESS_COMPONENTS = [\n    {\n        id: \"kladr_id\",\n        fields: [\"kladr_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"postal_code\",\n        fields: [\"postal_code\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"country_iso_code\",\n        fields: [\"country_iso_code\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"country\",\n        fields: [\"country\"],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 0, zeros: 13 },\n        fiasType: \"country_iso_code\"\n    },\n    {\n        id: \"region_iso_code\",\n        fields: [\"region_iso_code\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"region_fias_id\",\n        fields: [\"region_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"region_type_full\",\n        fields: [\"region_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 2, zeros: 11 },\n        fiasType: \"region_fias_id\"\n    },\n    {\n        id: \"region\",\n        fields: [\n            \"region\",\n            \"region_type\",\n            \"region_type_full\",\n            \"region_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 2, zeros: 11 },\n        fiasType: \"region_fias_id\"\n    },\n    {\n        id: \"area_fias_id\",\n        fields: [\"area_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"area_type_full\",\n        fields: [\"area_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 5, zeros: 8 },\n        fiasType: \"area_fias_id\"\n    },\n    {\n        id: \"area\",\n        fields: [\"area\", \"area_type\", \"area_type_full\", \"area_with_type\"],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 5, zeros: 8 },\n        fiasType: \"area_fias_id\"\n    },\n    {\n        id: \"city_fias_id\",\n        fields: [\"city_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"city_type_full\",\n        fields: [\"city_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 8, zeros: 5 },\n        fiasType: \"city_fias_id\"\n    },\n    {\n        id: \"city\",\n        fields: [\"city\", \"city_type\", \"city_type_full\", \"city_with_type\"],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 8, zeros: 5 },\n        fiasType: \"city_fias_id\"\n    },\n    {\n        id: \"city_district_fias_id\",\n        fields: [\"city_district_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"city_district_type_full\",\n        fields: [\"city_district_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"city_district_fias_id\"\n    },\n    {\n        id: \"city_district\",\n        fields: [\n            \"city_district\",\n            \"city_district_type\",\n            \"city_district_type_full\",\n            \"city_district_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"city_district_fias_id\"\n    },\n    {\n        id: \"settlement_fias_id\",\n        fields: [\"settlement_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"settlement_type_full\",\n        fields: [\"settlement_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"settlement_fias_id\"\n    },\n    {\n        id: \"settlement\",\n        fields: [\n            \"settlement\",\n            \"settlement_type\",\n            \"settlement_type_full\",\n            \"settlement_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"settlement_fias_id\"\n    },\n    {\n        id: \"street_fias_id\",\n        fields: [\"street_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"street_type_full\",\n        fields: [\"street_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 15, zeros: 2 },\n        fiasType: \"street_fias_id\"\n    },\n    {\n        id: \"street\",\n        fields: [\n            \"street\",\n            \"street_type\",\n            \"street_type_full\",\n            \"street_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 15, zeros: 2 },\n        fiasType: \"street_fias_id\"\n    },\n    {\n        id: \"house\",\n        fields: [\n            \"house\",\n            \"house_type\",\n            \"house_type_full\",\n            \"block\",\n            \"block_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 19 },\n        fiasType: \"house_fias_id\"\n    },\n    {\n        id: \"flat\",\n        fields: [\"flat\", \"flat_type\", \"flat_type_full\"],\n        forBounds: true,\n        forLocations: false,\n        kladrFormat: { digits: 19 },\n        fiasType: \"flat_fias_id\"\n    }\n];\n\nvar ADDRESS_TYPE = {\n    urlSuffix: \"address\",\n    noSuggestionsHint: \"Неизвестный адрес\",\n    matchers: [\n        matchers.matchByNormalizedQuery(ADDRESS_STOPWORDS),\n        matchers.matchByWordsAddress(ADDRESS_STOPWORDS)\n    ],\n    dataComponents: ADDRESS_COMPONENTS,\n    dataComponentsById: object_util.indexObjectsById(\n        ADDRESS_COMPONENTS,\n        \"id\",\n        \"index\"\n    ),\n    unformattableTokens: ADDRESS_STOPWORDS,\n    enrichmentEnabled: true,\n    enrichmentMethod: \"suggest\",\n    enrichmentParams: {\n        count: 1,\n        locations: null,\n        locations_boost: null,\n        from_bound: null,\n        to_bound: null\n    },\n    getEnrichmentQuery: function(suggestion) {\n        return suggestion.unrestricted_value;\n    },\n    geoEnabled: true,\n    isDataComplete: function(suggestion) {\n        var fields = [this.bounds.to || \"flat\"],\n            data = suggestion.data;\n\n        return (\n            !lang_util.isPlainObject(data) ||\n            object_util.fieldsAreNotEmpty(data, fields)\n        );\n    },\n    composeValue: function(data, options) {\n        var country = data.country,\n            region =\n                data.region_with_type ||\n                collection_util\n                    .compact([data.region, data.region_type])\n                    .join(\" \") ||\n                data.region_type_full,\n            area =\n                data.area_with_type ||\n                collection_util\n                    .compact([data.area_type, data.area])\n                    .join(\" \") ||\n                data.area_type_full,\n            city =\n                data.city_with_type ||\n                collection_util\n                    .compact([data.city_type, data.city])\n                    .join(\" \") ||\n                data.city_type_full,\n            settelement =\n                data.settlement_with_type ||\n                collection_util\n                    .compact([data.settlement_type, data.settlement])\n                    .join(\" \") ||\n                data.settlement_type_full,\n            cityDistrict =\n                data.city_district_with_type ||\n                collection_util\n                    .compact([data.city_district_type, data.city_district])\n                    .join(\" \") ||\n                data.city_district_type_full,\n            street =\n                data.street_with_type ||\n                collection_util\n                    .compact([data.street_type, data.street])\n                    .join(\" \") ||\n                data.street_type_full,\n            house = collection_util\n                .compact([\n                    data.stead_type,\n                    data.stead,\n                    data.house_type,\n                    data.house,\n                    data.block_type,\n                    data.block\n                ])\n                .join(\" \"),\n            flat = collection_util\n                .compact([data.flat_type, data.flat])\n                .join(\" \"),\n            postal_box = data.postal_box && \"а/я \" + data.postal_box,\n            result;\n\n        // если регион совпадает с городом\n        // например г Москва, г Москва\n        // то не показываем регион\n        if (region === city) {\n            region = \"\";\n        }\n\n        // иногда не показываем район\n        if (!(options && options.saveCityDistrict)) {\n            if (options && options.excludeCityDistrict) {\n                // если район явно запрещен\n                cityDistrict = \"\";\n            } else if (cityDistrict && !data.city_district_fias_id) {\n                // если район взят из ОКАТО (у него пустой city_district_fias_id)\n                cityDistrict = \"\";\n            }\n        }\n\n        result = collection_util\n            .compact([\n                country,\n                region,\n                area,\n                city,\n                cityDistrict,\n                settelement,\n                street,\n                house,\n                flat,\n                postal_box\n            ])\n            .join(\", \");\n\n        return result;\n    },\n    formatResult: (function() {\n        var componentsUnderCityDistrict = [],\n            _underCityDistrict = false;\n\n        ADDRESS_COMPONENTS.forEach(function(component) {\n            if (_underCityDistrict)\n                componentsUnderCityDistrict.push(component.id);\n            if (component.id === \"city_district\") _underCityDistrict = true;\n        });\n\n        return function(value, currentValue, suggestion, options) {\n            var that = this,\n                district =\n                    suggestion.data && suggestion.data.city_district_with_type,\n                unformattableTokens = options && options.unformattableTokens,\n                historyValues =\n                    suggestion.data && suggestion.data.history_values,\n                tokens,\n                unusedTokens,\n                formattedHistoryValues;\n\n            // добавляем исторические значения\n            if (historyValues && historyValues.length > 0) {\n                tokens = text_util.tokenize(currentValue, unformattableTokens);\n                unusedTokens = this.type.findUnusedTokens(tokens, value);\n                formattedHistoryValues = this.type.getFormattedHistoryValues(\n                    unusedTokens,\n                    historyValues\n                );\n                if (formattedHistoryValues) {\n                    value += formattedHistoryValues;\n                }\n            }\n\n            value = that.highlightMatches(\n                value,\n                currentValue,\n                suggestion,\n                options\n            );\n            value = that.wrapFormattedValue(value, suggestion);\n\n            if (\n                district &&\n                (!that.bounds.own.length ||\n                    that.bounds.own.indexOf(\"street\") >= 0) &&\n                !lang_util.isEmptyObject(\n                    that.copyDataComponents(\n                        suggestion.data,\n                        componentsUnderCityDistrict\n                    )\n                )\n            ) {\n                value +=\n                    '<div class=\"' +\n                    that.classes.subtext +\n                    '\">' +\n                    that.highlightMatches(district, currentValue, suggestion) +\n                    \"</div>\";\n            }\n\n            return value;\n        };\n    })(),\n\n    /**\n     * Возвращает список слов в запросе,\n     * которые не встречаются в подсказке\n     */\n    findUnusedTokens: function(tokens, value) {\n        var tokenIndex,\n            token,\n            unused = [];\n\n        unused = tokens.filter(function(token) {\n            return value.indexOf(token) === -1;\n        });\n\n        return unused;\n    },\n\n    /**\n     * Возвращает исторические названия для слов запроса,\n     * для которых не найдено совпадения в основном значении подсказки\n     */\n    getFormattedHistoryValues: function(unusedTokens, historyValues) {\n        var tokenIndex,\n            token,\n            historyValueIndex,\n            historyValue,\n            values = [],\n            formatted = \"\";\n\n        historyValues.forEach(function(historyValue) {\n            collection_util.each(unusedTokens, function(token) {\n                if (historyValue.toLowerCase().indexOf(token) >= 0) {\n                    values.push(historyValue);\n                    return false;\n                }\n            });\n        });\n\n        if (values.length > 0) {\n            formatted = \" (бывш. \" + values.join(\", \") + \")\";\n        }\n\n        return formatted;\n    },\n\n    /**\n     * @param instance\n     * @param options\n     * @param options.suggestion\n     * @param options.hasSameValues\n     * @param options.hasBeenEnreached\n     */\n    getSuggestionValue: function(instance, options) {\n        var formattedValue = null;\n\n        if (options.hasSameValues) {\n            if (instance.options.restrict_value) {\n                // Can not use unrestricted address,\n                // because some components (from constraints) must be omitted\n                formattedValue = this.getValueWithinConstraints(\n                    instance,\n                    options.suggestion\n                );\n            } else if (instance.bounds.own.length) {\n                // Can not use unrestricted address,\n                // because only components from bounds must be included\n                formattedValue = this.getValueWithinBounds(\n                    instance,\n                    options.suggestion\n                );\n            } else {\n                // Can use full unrestricted address\n                formattedValue = options.suggestion.unrestricted_value;\n            }\n        } else if (options.hasBeenEnriched) {\n            if (instance.options.restrict_value) {\n                formattedValue = this.getValueWithinConstraints(\n                    instance,\n                    options.suggestion,\n                    { excludeCityDistrict: true }\n                );\n            }\n        }\n\n        return formattedValue;\n    },\n    /*\n     * Compose suggestion value with respect to constraints\n     */\n    getValueWithinConstraints: function(instance, suggestion, options) {\n        return this.composeValue(\n            instance.getUnrestrictedData(suggestion.data),\n            options\n        );\n    },\n    /*\n     * Compose suggestion value with respect to bounds\n     */\n    getValueWithinBounds: function(instance, suggestion, options) {\n        // для корректного составления адреса нужен city_district_fias_id\n        var data = instance.copyDataComponents(\n            suggestion.data,\n            instance.bounds.own.concat([\"city_district_fias_id\"])\n        );\n\n        return this.composeValue(data, options);\n    }\n};\n\n/**\n * Компоненты адреса\n * @type {*[]}\n * id {String} Наименование типа\n * fields {Array of Strings}\n * forBounds {Boolean} может использоваться в ограничениях\n * forLocations {Boolean}\n * kladrFormat {Object}\n * fiasType {String} Наименование соответствующего ФИАС типа\n */\nvar FIAS_COMPONENTS = [\n    {\n        id: \"kladr_id\",\n        fields: [\"kladr_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"region_fias_id\",\n        fields: [\"region_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"region_type_full\",\n        fields: [\"region_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 2, zeros: 11 },\n        fiasType: \"region_fias_id\"\n    },\n    {\n        id: \"region\",\n        fields: [\n            \"region\",\n            \"region_type\",\n            \"region_type_full\",\n            \"region_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 2, zeros: 11 },\n        fiasType: \"region_fias_id\"\n    },\n    {\n        id: \"area_fias_id\",\n        fields: [\"area_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"area_type_full\",\n        fields: [\"area_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 5, zeros: 8 },\n        fiasType: \"area_fias_id\"\n    },\n    {\n        id: \"area\",\n        fields: [\"area\", \"area_type\", \"area_type_full\", \"area_with_type\"],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 5, zeros: 8 },\n        fiasType: \"area_fias_id\"\n    },\n    {\n        id: \"city_fias_id\",\n        fields: [\"city_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"city_type_full\",\n        fields: [\"city_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 8, zeros: 5 },\n        fiasType: \"city_fias_id\"\n    },\n    {\n        id: \"city\",\n        fields: [\"city\", \"city_type\", \"city_type_full\", \"city_with_type\"],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 8, zeros: 5 },\n        fiasType: \"city_fias_id\"\n    },\n    {\n        id: \"city_district_fias_id\",\n        fields: [\"city_district_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"city_district_type_full\",\n        fields: [\"city_district_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"city_district_fias_id\"\n    },\n    {\n        id: \"city_district\",\n        fields: [\n            \"city_district\",\n            \"city_district_type\",\n            \"city_district_type_full\",\n            \"city_district_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"city_district_fias_id\"\n    },\n    {\n        id: \"settlement_fias_id\",\n        fields: [\"settlement_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"settlement_type_full\",\n        fields: [\"settlement_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"settlement_fias_id\"\n    },\n    {\n        id: \"settlement\",\n        fields: [\n            \"settlement\",\n            \"settlement_type\",\n            \"settlement_type_full\",\n            \"settlement_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 11, zeros: 2 },\n        fiasType: \"settlement_fias_id\"\n    },\n    {\n        id: \"planning_structure_fias_id\",\n        fields: [\"planning_structure_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"planning_structure_type_full\",\n        fields: [\"planning_structure_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 15, zeros: 2 },\n        fiasType: \"planning_structure_fias_id\"\n    },\n    {\n        id: \"planning_structure\",\n        fields: [\n            \"planning_structure\",\n            \"planning_structure_type\",\n            \"planning_structure_type_full\",\n            \"planning_structure_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 15, zeros: 2 },\n        fiasType: \"planning_structure_fias_id\"\n    },\n    {\n        id: \"street_fias_id\",\n        fields: [\"street_fias_id\"],\n        forBounds: false,\n        forLocations: true\n    },\n    {\n        id: \"street_type_full\",\n        fields: [\"street_type_full\"],\n        forBounds: false,\n        forLocations: true,\n        kladrFormat: { digits: 15, zeros: 2 },\n        fiasType: \"street_fias_id\"\n    },\n    {\n        id: \"street\",\n        fields: [\n            \"street\",\n            \"street_type\",\n            \"street_type_full\",\n            \"street_with_type\"\n        ],\n        forBounds: true,\n        forLocations: true,\n        kladrFormat: { digits: 15, zeros: 2 },\n        fiasType: \"street_fias_id\"\n    },\n    {\n        id: \"house\",\n        fields: [\"house\", \"house_type\", \"block\", \"building_type\", \"building\"],\n        forBounds: true,\n        forLocations: false,\n        kladrFormat: { digits: 19 }\n    }\n];\n\nvar FIAS_TYPE = {\n    urlSuffix: \"fias\",\n    noSuggestionsHint: \"Неизвестный адрес\",\n    matchers: [\n        matchers.matchByNormalizedQuery(ADDRESS_STOPWORDS),\n        matchers.matchByWordsAddress(ADDRESS_STOPWORDS)\n    ],\n    dataComponents: FIAS_COMPONENTS,\n    dataComponentsById: object_util.indexObjectsById(\n        FIAS_COMPONENTS,\n        \"id\",\n        \"index\"\n    ),\n    unformattableTokens: ADDRESS_STOPWORDS,\n    isDataComplete: function(suggestion) {\n        var fields = [this.bounds.to || \"house\"],\n            data = suggestion.data;\n\n        return (\n            !lang_util.isPlainObject(data) ||\n            object_util.fieldsAreNotEmpty(data, fields)\n        );\n    },\n    composeValue: function(data, options) {\n        var country = data.country,\n            region =\n                data.region_with_type ||\n                collection_util\n                    .compact([data.region, data.region_type])\n                    .join(\" \") ||\n                data.region_type_full,\n            area =\n                data.area_with_type ||\n                collection_util\n                    .compact([data.area_type, data.area])\n                    .join(\" \") ||\n                data.area_type_full,\n            city =\n                data.city_with_type ||\n                collection_util\n                    .compact([data.city_type, data.city])\n                    .join(\" \") ||\n                data.city_type_full,\n            settelement =\n                data.settlement_with_type ||\n                collection_util\n                    .compact([data.settlement_type, data.settlement])\n                    .join(\" \") ||\n                data.settlement_type_full,\n            cityDistrict =\n                data.city_district_with_type ||\n                collection_util\n                    .compact([data.city_district_type, data.city_district])\n                    .join(\" \") ||\n                data.city_district_type_full,\n            planning_structure =\n                data.planning_structure_with_type ||\n                collection_util\n                    .compact([\n                        data.planning_structure_type,\n                        data.planning_structure\n                    ])\n                    .join(\" \") ||\n                data.planning_structure_type_full,\n            street =\n                data.street_with_type ||\n                collection_util\n                    .compact([data.street_type, data.street])\n                    .join(\" \") ||\n                data.street_type_full,\n            house = collection_util\n                .compact([\n                    data.house_type,\n                    data.house,\n                    data.block_type,\n                    data.block\n                ])\n                .join(\" \"),\n            flat = collection_util\n                .compact([data.flat_type, data.flat])\n                .join(\" \"),\n            postal_box = data.postal_box && \"а/я \" + data.postal_box,\n            result;\n\n        // если регион совпадает с городом\n        // например г Москва, г Москва\n        // то не показываем регион\n        if (region === city) {\n            region = \"\";\n        }\n\n        // иногда не показываем район\n        if (!(options && options.saveCityDistrict)) {\n            if (options && options.excludeCityDistrict) {\n                // если район явно запрещен\n                cityDistrict = \"\";\n            } else if (cityDistrict && !data.city_district_fias_id) {\n                // если район взят из ОКАТО (у него пустой city_district_fias_id)\n                cityDistrict = \"\";\n            }\n        }\n\n        result = collection_util\n            .compact([\n                country,\n                region,\n                area,\n                city,\n                cityDistrict,\n                settelement,\n                planning_structure,\n                street,\n                house,\n                flat,\n                postal_box\n            ])\n            .join(\", \");\n\n        return result;\n    },\n    formatResult: (function() {\n        return function(value, currentValue, suggestion, options) {\n            var that = this;\n\n            value = that.highlightMatches(\n                value,\n                currentValue,\n                suggestion,\n                options\n            );\n            value = that.wrapFormattedValue(value, suggestion);\n            return value;\n        };\n    })(),\n\n    getSuggestionValue: ADDRESS_TYPE.getSuggestionValue,\n    getValueWithinConstraints: ADDRESS_TYPE.getValueWithinConstraints,\n    getValueWithinBounds: ADDRESS_TYPE.getValueWithinBounds\n};\n\nfunction valueStartsWith(suggestion, field) {\n    var fieldValue = suggestion.data && suggestion.data[field];\n\n    return (\n        fieldValue &&\n        new RegExp(\n            \"^\" +\n                text_util.escapeRegExChars(fieldValue) +\n                \"([\" +\n                WORD_DELIMITERS +\n                \"]|$)\",\n            \"i\"\n        ).test(suggestion.value)\n    );\n}\n\nvar NAME_TYPE = {\n    urlSuffix: \"fio\",\n    noSuggestionsHint: false,\n    matchers: [matchers.matchByNormalizedQuery(), matchers.matchByWords()],\n    // names for labels, describing which fields are displayed\n    fieldNames: {\n        surname: \"фамилия\",\n        name: \"имя\",\n        patronymic: \"отчество\"\n    },\n    isDataComplete: function(suggestion) {\n        var that = this,\n            params = that.options.params,\n            data = suggestion.data,\n            fields;\n\n        if (lang_util.isFunction(params)) {\n            params = params.call(that.element, suggestion.value);\n        }\n        if (params && params.parts) {\n            fields = params.parts.map(function(part) {\n                return part.toLowerCase();\n            });\n        } else {\n            // when NAME is first, patronymic is mot mandatory\n            fields = [\"surname\", \"name\"];\n            // when SURNAME is first, it is\n            if (valueStartsWith(suggestion, \"surname\")) {\n                fields.push(\"patronymic\");\n            }\n        }\n        return object_util.fieldsAreNotEmpty(data, fields);\n    },\n    composeValue: function(data) {\n        return collection_util\n            .compact([data.surname, data.name, data.patronymic])\n            .join(\" \");\n    }\n};\n\nvar innPartsLengths = {\n    LEGAL: [2, 2, 5, 1],\n    INDIVIDUAL: [2, 2, 6, 2]\n};\n\nfunction chooseFormattedField(formattedMain, formattedAlt) {\n    var rHasMatch = /<strong>/;\n    return rHasMatch.test(formattedAlt) && !rHasMatch.test(formattedMain)\n        ? formattedAlt\n        : formattedMain;\n}\n\nfunction formattedField(main, alt, currentValue, suggestion, options) {\n    var that = this,\n        formattedMain = that.highlightMatches(\n            main,\n            currentValue,\n            suggestion,\n            options\n        ),\n        formattedAlt = that.highlightMatches(\n            alt,\n            currentValue,\n            suggestion,\n            options\n        );\n\n    return chooseFormattedField(formattedMain, formattedAlt);\n}\n\nvar PARTY_TYPE = {\n    urlSuffix: \"party\",\n    noSuggestionsHint: \"Неизвестная организация\",\n    matchers: [\n        matchers.matchByFields(\n            // These fields of suggestion's `data` used by by-words matcher\n            {\n                value: null,\n                \"data.address.value\": ADDRESS_STOPWORDS,\n                \"data.inn\": null,\n                \"data.ogrn\": null\n            }\n        )\n    ],\n    dataComponents: ADDRESS_COMPONENTS,\n    enrichmentEnabled: true,\n    enrichmentMethod: \"findById\",\n    enrichmentParams: {\n        count: 1,\n        locations_boost: null\n    },\n    getEnrichmentQuery: function(suggestion) {\n        return suggestion.data.hid;\n    },\n    geoEnabled: true,\n    formatResult: function(value, currentValue, suggestion, options) {\n        var that = this,\n            formattedInn = that.type.formatResultInn.call(\n                that,\n                suggestion,\n                currentValue\n            ),\n            formatterOGRN = that.highlightMatches(\n                object_util.getDeepValue(suggestion.data, \"ogrn\"),\n                currentValue,\n                suggestion\n            ),\n            formattedInnOGRN = chooseFormattedField(\n                formattedInn,\n                formatterOGRN\n            ),\n            formattedFIO = that.highlightMatches(\n                object_util.getDeepValue(suggestion.data, \"management.name\"),\n                currentValue,\n                suggestion\n            ),\n            address =\n                object_util.getDeepValue(suggestion.data, \"address.value\") ||\n                \"\";\n\n        if (that.isMobile) {\n            (options || (options = {})).maxLength = 50;\n        }\n\n        value = formattedField.call(\n            that,\n            value,\n            object_util.getDeepValue(suggestion.data, \"name.latin\"),\n            currentValue,\n            suggestion,\n            options\n        );\n        value = that.wrapFormattedValue(value, suggestion);\n\n        if (address) {\n            address = address.replace(/^(\\d{6}|Россия),\\s+/i, \"\");\n            if (that.isMobile) {\n                // keep only two first words\n                address = address.replace(\n                    new RegExp(\n                        \"^([^\" +\n                            WORD_DELIMITERS +\n                            \"]+[\" +\n                            WORD_DELIMITERS +\n                            \"]+[^\" +\n                            WORD_DELIMITERS +\n                            \"]+).*\"\n                    ),\n                    \"$1\"\n                );\n            } else {\n                address = that.highlightMatches(\n                    address,\n                    currentValue,\n                    suggestion,\n                    {\n                        unformattableTokens: ADDRESS_STOPWORDS\n                    }\n                );\n            }\n        }\n\n        if (formattedInnOGRN || address || formattedFIO) {\n            value +=\n                '<div class=\"' +\n                that.classes.subtext +\n                '\">' +\n                '<span class=\"' +\n                that.classes.subtext_inline +\n                '\">' +\n                (formattedInnOGRN || \"\") +\n                \"</span>\" +\n                (chooseFormattedField(address, formattedFIO) || \"\") +\n                \"</div>\";\n        }\n        return value;\n    },\n    formatResultInn: function(suggestion, currentValue) {\n        var that = this,\n            inn = suggestion.data && suggestion.data.inn,\n            innPartsLength =\n                innPartsLengths[suggestion.data && suggestion.data.type],\n            innParts,\n            formattedInn,\n            rDigit = /\\d/;\n\n        if (inn) {\n            formattedInn = that.highlightMatches(inn, currentValue, suggestion);\n            if (innPartsLength) {\n                formattedInn = formattedInn.split(\"\");\n                innParts = innPartsLength.map(function(partLength) {\n                    var formattedPart = \"\",\n                        ch;\n\n                    while (partLength && (ch = formattedInn.shift())) {\n                        formattedPart += ch;\n                        if (rDigit.test(ch)) partLength--;\n                    }\n\n                    return formattedPart;\n                });\n                formattedInn =\n                    innParts.join(\n                        '<span class=\"' +\n                            that.classes.subtext_delimiter +\n                            '\"></span>'\n                    ) + formattedInn.join(\"\");\n            }\n\n            return formattedInn;\n        }\n    }\n};\n\nvar EMAIL_TYPE = {\n    urlSuffix: \"email\",\n    noSuggestionsHint: false,\n    matchers: [matchers.matchByNormalizedQuery()],\n    isQueryRequestable: function(query) {\n        return this.options.suggest_local || query.indexOf(\"@\") >= 0;\n    }\n};\n\nvar BANK_TYPE = {\n    urlSuffix: \"bank\",\n    noSuggestionsHint: \"Неизвестный банк\",\n    matchers: [\n        matchers.matchByFields(\n            // These fields of suggestion's `data` used by by-words matcher\n            {\n                value: null,\n                \"data.bic\": null,\n                \"data.swift\": null,\n            }\n        ),\n    ],\n    dataComponents: ADDRESS_COMPONENTS,\n    enrichmentEnabled: true,\n    enrichmentMethod: \"findById\",\n    enrichmentParams: {\n        count: 1,\n    },\n    getEnrichmentQuery: function(suggestion) {\n        return suggestion.data.bic;\n    },\n    geoEnabled: true,\n    formatResult: function(value, currentValue, suggestion, options) {\n        var that = this,\n            formattedBIC = that.highlightMatches(\n                object_util.getDeepValue(suggestion.data, \"bic\"),\n                currentValue,\n                suggestion\n            ),\n            address =\n                object_util.getDeepValue(suggestion.data, \"address.value\") ||\n                \"\";\n\n        value = that.highlightMatches(value, currentValue, suggestion, options);\n        value = that.wrapFormattedValue(value, suggestion);\n\n        if (address) {\n            address = address.replace(/^\\d{6}( РОССИЯ)?, /i, \"\");\n            if (that.isMobile) {\n                // keep only two first words\n                address = address.replace(\n                    new RegExp(\n                        \"^([^\" +\n                            WORD_DELIMITERS +\n                            \"]+[\" +\n                            WORD_DELIMITERS +\n                            \"]+[^\" +\n                            WORD_DELIMITERS +\n                            \"]+).*\"\n                    ),\n                    \"$1\"\n                );\n            } else {\n                address = that.highlightMatches(\n                    address,\n                    currentValue,\n                    suggestion,\n                    {\n                        unformattableTokens: ADDRESS_STOPWORDS,\n                    }\n                );\n            }\n        }\n\n        if (formattedBIC || address) {\n            value +=\n                '<div class=\"' +\n                that.classes.subtext +\n                '\">' +\n                '<span class=\"' +\n                that.classes.subtext_inline +\n                '\">' +\n                formattedBIC +\n                \"</span>\" +\n                address +\n                \"</div>\";\n        }\n        return value;\n    },\n    formatSelected: function(suggestion) {\n        return (\n            object_util.getDeepValue(suggestion, \"data.name.payment\") || null\n        );\n    },\n};\n\nfunction Outward(name) {\n    this.urlSuffix = name.toLowerCase();\n    this.noSuggestionsHint = \"Неизвестное значение\";\n    this.matchers = [\n        matchers.matchByNormalizedQuery(),\n        matchers.matchByWords()\n    ];\n}\n\n/**\n * Type is a bundle of properties:\n * - urlSuffix Mandatory. String\n * - matchers Mandatory. Array of functions (with optional data bound as a context) that find appropriate suggestion to select\n * - `fieldNames` Map fields of suggestion.data to their displayable names\n * - `unformattableTokens` Array of strings which should not be highlighted\n * - `dataComponents` Array of 'bound's can be set as `bounds` option. Order is important.\n *\n * flags:\n * - `alwaysContinueSelecting` Forbids to hide dropdown after selecting\n * - `geoEnabled` Makes to detect client's location for passing it to all requests\n * - `enrichmentEnabled` Makes to send additional request when a suggestion is selected\n *\n * and methods:\n * - `isDataComplete` Checks if suggestion.data can be operated as full data of it's type\n * - `composeValue` returns string value based on suggestion.data\n * - `formatResult` returns html of a suggestion. Overrides default method\n * - `formatResultInn` returns html of suggestion.data.inn\n * - `isQueryRequestable` checks if query is appropriated for requesting server\n * - `formatSelected` returns string to be inserted in textbox\n */\n\nvar types = {\n    NAME: NAME_TYPE,\n    ADDRESS: ADDRESS_TYPE,\n    FIAS: FIAS_TYPE,\n    PARTY: PARTY_TYPE,\n    EMAIL: EMAIL_TYPE,\n    BANK: BANK_TYPE\n};\n\ntypes.get = function(type) {\n    if (types.hasOwnProperty(type)) {\n        return types[type];\n    } else {\n        return new Outward(type);\n    }\n};\n\njqapi.extend(DEFAULT_OPTIONS, {\n    suggest_local: true\n});\n\nvar notificator = {\n    chains: {},\n\n    on: function(name, method) {\n        this.get(name).push(method);\n        return this;\n    },\n\n    get: function(name) {\n        var chains = this.chains;\n        return chains[name] || (chains[name] = []);\n    }\n};\n\nvar serviceMethods = {\n    suggest: {\n        defaultParams: {\n            type: utils.getDefaultType(),\n            dataType: \"json\",\n            contentType: utils.getDefaultContentType()\n        },\n        addTypeInUrl: true\n    },\n    \"iplocate/address\": {\n        defaultParams: {\n            type: \"GET\",\n            dataType: \"json\"\n        },\n        addTypeInUrl: false\n    },\n    status: {\n        defaultParams: {\n            type: \"GET\",\n            dataType: \"json\"\n        },\n        addTypeInUrl: true\n    },\n    findById: {\n        defaultParams: {\n            type: utils.getDefaultType(),\n            dataType: \"json\",\n            contentType: utils.getDefaultContentType()\n        },\n        addTypeInUrl: true\n    }\n};\n\nvar requestModes = {\n    suggest: {\n        method: \"suggest\",\n        userSelect: true,\n        updateValue: true,\n        enrichmentEnabled: true\n    },\n    findById: {\n        method: \"findById\",\n        userSelect: false,\n        updateValue: false,\n        enrichmentEnabled: false\n    }\n};\n\nfunction Suggestions(el, options) {\n    var that = this;\n\n    // Shared variables:\n    that.element = el;\n    that.el = $(el);\n    that.suggestions = [];\n    that.badQueries = [];\n    that.selectedIndex = -1;\n    that.currentValue = that.element.value;\n    that.intervalId = 0;\n    that.cachedResponse = {};\n    that.enrichmentCache = {};\n    that.currentRequest = null;\n    that.inputPhase = $.Deferred();\n    that.fetchPhase = $.Deferred();\n    that.enrichPhase = $.Deferred();\n    that.onChangeTimeout = null;\n    that.triggering = {};\n    that.$wrapper = null;\n    that.options = $.extend({}, DEFAULT_OPTIONS, options);\n    that.classes = CLASSES;\n    that.disabled = false;\n    that.selection = null;\n    that.$viewport = $(window);\n    that.$body = $(document.body);\n    that.type = null;\n    that.status = {};\n\n    that.setupElement();\n\n    that.initializer = $.Deferred();\n\n    if (that.el.is(\":visible\")) {\n        that.initializer.resolve();\n    } else {\n        that.deferInitialization();\n    }\n\n    that.initializer.done($.proxy(that.initialize, that));\n}\n\nSuggestions.prototype = {\n    // Creation and destruction\n\n    initialize: function() {\n        var that = this;\n        that.uniqueId = utils.uniqueId(\"i\");\n        that.createWrapper();\n        that.notify(\"initialize\");\n        that.bindWindowEvents();\n        that.setOptions();\n        that.inferIsMobile();\n        that.notify(\"ready\");\n    },\n\n    /**\n     * Initialize when element is firstly interacted\n     */\n    deferInitialization: function() {\n        var that = this,\n            events = \"mouseover focus keydown\",\n            timer,\n            callback = function() {\n                that.initializer.resolve();\n                that.enable();\n            };\n\n        that.initializer.always(function() {\n            that.el.off(events, callback);\n            clearInterval(timer);\n        });\n\n        that.disabled = true;\n        that.el.on(events, callback);\n        timer = setInterval(function() {\n            if (that.el.is(\":visible\")) {\n                callback();\n            }\n        }, that.options.initializeInterval);\n    },\n\n    isInitialized: function() {\n        return this.initializer.state() === \"resolved\";\n    },\n\n    dispose: function() {\n        var that = this;\n        that.initializer.reject();\n        that.notify(\"dispose\");\n        that.el.removeData(DATA_ATTR_KEY).removeClass(\"suggestions-input\");\n        that.unbindWindowEvents();\n        that.removeWrapper();\n        that.el.trigger(\"suggestions-dispose\");\n    },\n\n    notify: function(chainName) {\n        var that = this,\n            args = utils.slice(arguments, 1);\n\n        return $.map(notificator.get(chainName), function(method) {\n            return method.apply(that, args);\n        });\n    },\n\n    createWrapper: function() {\n        var that = this;\n\n        that.$wrapper = $('<div class=\"suggestions-wrapper\"/>');\n        that.el.after(that.$wrapper);\n\n        that.$wrapper.on(\n            \"mousedown\" + EVENT_NS,\n            $.proxy(that.onMousedown, that)\n        );\n    },\n\n    removeWrapper: function() {\n        var that = this;\n\n        if (that.$wrapper) {\n            that.$wrapper.remove();\n        }\n        $(that.options.$helpers).off(EVENT_NS);\n    },\n\n    /** This whole handler is needed to prevent blur event on textbox\n     * when suggestion is clicked (blur leads to suggestions hide, so we need to prevent it).\n     * See https://github.com/jquery/jquery-ui/blob/master/ui/autocomplete.js for details\n     */\n    onMousedown: function(e) {\n        var that = this;\n\n        // prevent moving focus out of the text field\n        e.preventDefault();\n\n        // IE doesn't prevent moving focus even with e.preventDefault()\n        // so we set a flag to know when we should ignore the blur event\n        that.cancelBlur = true;\n        utils.delay(function() {\n            delete that.cancelBlur;\n        });\n\n        // clicking on the scrollbar causes focus to shift to the body\n        // but we can't detect a mouseup or a click immediately afterward\n        // so we have to track the next mousedown and close the menu if\n        // the user clicks somewhere outside of the autocomplete\n        if ($(e.target).closest(\".ui-menu-item\").length == 0) {\n            utils.delay(function() {\n                $(document).one(\"mousedown\", function(e) {\n                    var $elements = that.el\n                        .add(that.$wrapper)\n                        .add(that.options.$helpers);\n\n                    if (that.options.floating) {\n                        $elements = $elements.add(that.$container);\n                    }\n\n                    $elements = $elements.filter(function() {\n                        return this === e.target || $.contains(this, e.target);\n                    });\n\n                    if (!$elements.length) {\n                        that.hide();\n                    }\n                });\n            });\n        }\n    },\n\n    bindWindowEvents: function() {\n        var handler = $.proxy(this.inferIsMobile, this);\n        this.$viewport.on(\"resize\" + EVENT_NS + this.uniqueId, handler);\n    },\n\n    unbindWindowEvents: function() {\n        this.$viewport.off(\"resize\" + EVENT_NS + this.uniqueId);\n    },\n\n    scrollToTop: function() {\n        var that = this,\n            scrollTarget = that.options.scrollOnFocus;\n\n        if (scrollTarget === true) {\n            scrollTarget = that.el;\n        }\n        if (scrollTarget instanceof $ && scrollTarget.length > 0) {\n            $(\"body,html\").animate(\n                {\n                    scrollTop: scrollTarget.offset().top\n                },\n                \"fast\"\n            );\n        }\n    },\n\n    // Configuration methods\n\n    setOptions: function(suppliedOptions) {\n        var that = this;\n\n        $.extend(that.options, suppliedOptions);\n\n        that[\"type\"] = types.get(that.options[\"type\"]);\n\n        // Check mandatory options\n        $.each(\n            {\n                requestMode: requestModes\n            },\n            function(option, available) {\n                that[option] = available[that.options[option]];\n                if (!that[option]) {\n                    that.disable();\n                    throw \"`\" +\n                        option +\n                        \"` option is incorrect! Must be one of: \" +\n                        $.map(available, function(value, name) {\n                            return '\"' + name + '\"';\n                        }).join(\", \");\n                }\n            }\n        );\n\n        $(that.options.$helpers)\n            .off(EVENT_NS)\n            .on(\"mousedown\" + EVENT_NS, $.proxy(that.onMousedown, that));\n\n        if (that.isInitialized()) {\n            that.notify(\"setOptions\");\n        }\n    },\n\n    // Common public methods\n\n    inferIsMobile: function() {\n        this.isMobile = this.$viewport.width() <= this.options.mobileWidth;\n    },\n\n    clearCache: function() {\n        this.cachedResponse = {};\n        this.enrichmentCache = {};\n        this.badQueries = [];\n    },\n\n    clear: function() {\n        var that = this,\n            currentSelection = that.selection;\n\n        if (that.isInitialized()) {\n            that.clearCache();\n            that.currentValue = \"\";\n            that.selection = null;\n            that.hide();\n            that.suggestions = [];\n            that.el.val(\"\");\n            that.el.trigger(\"suggestions-clear\");\n            that.notify(\"clear\");\n            that.trigger(\"InvalidateSelection\", currentSelection);\n        }\n    },\n\n    disable: function() {\n        var that = this;\n\n        that.disabled = true;\n        that.abortRequest();\n        if (that.visible) {\n            that.hide();\n        }\n    },\n\n    enable: function() {\n        this.disabled = false;\n    },\n\n    isUnavailable: function() {\n        return this.disabled;\n    },\n\n    update: function() {\n        var that = this,\n            query = that.el.val();\n\n        if (that.isInitialized()) {\n            that.currentValue = query;\n            if (that.isQueryRequestable(query)) {\n                that.updateSuggestions(query);\n            } else {\n                that.hide();\n            }\n        }\n    },\n\n    setSuggestion: function(suggestion) {\n        var that = this,\n            data,\n            value;\n\n        if ($.isPlainObject(suggestion) && $.isPlainObject(suggestion.data)) {\n            suggestion = $.extend(true, {}, suggestion);\n\n            if (\n                that.isUnavailable() &&\n                that.initializer &&\n                that.initializer.state() === \"pending\"\n            ) {\n                that.initializer.resolve();\n                that.enable();\n            }\n\n            if (that.bounds.own.length) {\n                that.checkValueBounds(suggestion);\n                data = that.copyDataComponents(\n                    suggestion.data,\n                    that.bounds.all\n                );\n                if (suggestion.data.kladr_id) {\n                    data.kladr_id = that.getBoundedKladrId(\n                        suggestion.data.kladr_id,\n                        that.bounds.all\n                    );\n                }\n                suggestion.data = data;\n            }\n\n            that.selection = suggestion;\n\n            // `that.suggestions` required by `that.getSuggestionValue` and must be set before\n            that.suggestions = [suggestion];\n            value = that.getSuggestionValue(suggestion) || \"\";\n            that.currentValue = value;\n            that.el.val(value);\n            that.abortRequest();\n            that.el.trigger(\"suggestions-set\");\n        }\n    },\n\n    /**\n     * Fetch full object for current INPUT's value\n     * if no suitable object found, clean input element\n     */\n    fixData: function() {\n        var that = this,\n            fullQuery = that.extendedCurrentValue(),\n            currentValue = that.el.val(),\n            resolver = $.Deferred();\n\n        resolver\n            .done(function(suggestion) {\n                that.selectSuggestion(suggestion, 0, currentValue, {\n                    hasBeenEnriched: true\n                });\n                that.el.trigger(\"suggestions-fixdata\", suggestion);\n            })\n            .fail(function() {\n                that.selection = null;\n                that.el.trigger(\"suggestions-fixdata\");\n            });\n\n        if (that.isQueryRequestable(fullQuery)) {\n            that.currentValue = fullQuery;\n            that.getSuggestions(fullQuery, {\n                count: 1,\n                from_bound: null,\n                to_bound: null\n            })\n                .done(function(suggestions) {\n                    // data fetched\n                    var suggestion = suggestions[0];\n                    if (suggestion) {\n                        resolver.resolve(suggestion);\n                    } else {\n                        resolver.reject();\n                    }\n                })\n                .fail(function() {\n                    // no data fetched\n                    resolver.reject();\n                });\n        } else {\n            resolver.reject();\n        }\n    },\n\n    // Querying related methods\n\n    /**\n     * Looks up parent instances\n     * @returns {String} current value prepended by parents' values\n     */\n    extendedCurrentValue: function() {\n        var that = this,\n            parentInstance = that.getParentInstance(),\n            parentValue =\n                parentInstance && parentInstance.extendedCurrentValue(),\n            currentValue = $.trim(that.el.val());\n\n        return utils.compact([parentValue, currentValue]).join(\" \");\n    },\n\n    getAjaxParams: function(method, custom) {\n        var that = this,\n            token = $.trim(that.options.token),\n            partner = $.trim(that.options.partner),\n            serviceUrl = that.options.serviceUrl,\n            url = that.options.url,\n            serviceMethod = serviceMethods[method],\n            params = $.extend(\n                {\n                    timeout: that.options.timeout\n                },\n                serviceMethod.defaultParams\n            ),\n            headers = {};\n\n        if (url) {\n            serviceUrl = url;\n        } else {\n            if (!/\\/$/.test(serviceUrl)) {\n                serviceUrl += \"/\";\n            }\n            serviceUrl += method;\n            if (serviceMethod.addTypeInUrl) {\n                serviceUrl += \"/\" + that.type.urlSuffix;\n            }\n        }\n\n        serviceUrl = utils.fixURLProtocol(serviceUrl);\n\n        if ($.support.cors) {\n            // for XMLHttpRequest put token in header\n            if (token) {\n                headers[\"Authorization\"] = \"Token \" + token;\n            }\n            if (partner) {\n                headers[\"X-Partner\"] = partner;\n            }\n            headers[\"X-Version\"] = Suggestions.version;\n            if (!params.headers) {\n                params.headers = {};\n            }\n            if (!params.xhrFields) {\n                params.xhrFields = {};\n            }\n            $.extend(params.headers, that.options.headers, headers);\n            // server sets Access-Control-Allow-Origin: *\n            // which requires no credentials\n            params.xhrFields.withCredentials = false;\n        } else {\n            // for XDomainRequest put token into URL\n            if (token) {\n                headers[\"token\"] = token;\n            }\n            if (partner) {\n                headers[\"partner\"] = partner;\n            }\n            headers[\"version\"] = Suggestions.version;\n            serviceUrl = utils.addUrlParams(serviceUrl, headers);\n        }\n\n        params.url = serviceUrl;\n\n        return $.extend(params, custom);\n    },\n\n    isQueryRequestable: function(query) {\n        var that = this,\n            result;\n\n        result = query.length >= that.options.minChars;\n\n        if (result && that.type.isQueryRequestable) {\n            result = that.type.isQueryRequestable.call(that, query);\n        }\n\n        return result;\n    },\n\n    constructRequestParams: function(query, customParams) {\n        var that = this,\n            options = that.options,\n            params = $.isFunction(options.params)\n                ? options.params.call(that.element, query)\n                : $.extend({}, options.params);\n\n        if (that.type.constructRequestParams) {\n            $.extend(params, that.type.constructRequestParams.call(that));\n        }\n        $.each(that.notify(\"requestParams\"), function(i, hookParams) {\n            $.extend(params, hookParams);\n        });\n        params[options.paramName] = query;\n        if ($.isNumeric(options.count) && options.count > 0) {\n            params.count = options.count;\n        }\n        if (options.language) {\n            params.language = options.language;\n        }\n\n        return $.extend(params, customParams);\n    },\n\n    updateSuggestions: function(query) {\n        var that = this;\n\n        that.fetchPhase = that\n            .getSuggestions(query)\n            .done(function(suggestions) {\n                that.assignSuggestions(suggestions, query);\n            });\n    },\n\n    /**\n     * Get suggestions from cache or from server\n     * @param {String} query\n     * @param {Object} customParams parameters specified here will be passed to request body\n     * @param {Object} requestOptions\n     * @param {Boolean} [requestOptions.noCallbacks]  flag, request competence callbacks will not be invoked\n     * @param {Boolean} [requestOptions.useEnrichmentCache]\n     * @return {$.Deferred} waiter which is to be resolved with suggestions as argument\n     */\n    getSuggestions: function(query, customParams, requestOptions) {\n        var response,\n            that = this,\n            options = that.options,\n            noCallbacks = requestOptions && requestOptions.noCallbacks,\n            useEnrichmentCache =\n                requestOptions && requestOptions.useEnrichmentCache,\n            method =\n                (requestOptions && requestOptions.method) ||\n                that.requestMode.method,\n            params = that.constructRequestParams(query, customParams),\n            cacheKey = $.param(params || {}),\n            resolver = $.Deferred();\n\n        response = that.cachedResponse[cacheKey];\n        if (response && $.isArray(response.suggestions)) {\n            resolver.resolve(response.suggestions);\n        } else {\n            if (that.isBadQuery(query)) {\n                resolver.reject();\n            } else {\n                if (\n                    !noCallbacks &&\n                    options.onSearchStart.call(that.element, params) === false\n                ) {\n                    resolver.reject();\n                } else {\n                    that.doGetSuggestions(params, method)\n                        .done(function(response) {\n                            // if response is correct and current value has not been changed\n                            if (\n                                that.processResponse(response) &&\n                                query == that.currentValue\n                            ) {\n                                // Cache results if cache is not disabled:\n                                if (!options.noCache) {\n                                    if (useEnrichmentCache) {\n                                        that.enrichmentCache[query] =\n                                            response.suggestions[0];\n                                    } else {\n                                        that.enrichResponse(response, query);\n                                        that.cachedResponse[\n                                            cacheKey\n                                        ] = response;\n                                        if (\n                                            options.preventBadQueries &&\n                                            response.suggestions.length === 0\n                                        ) {\n                                            that.badQueries.push(query);\n                                        }\n                                    }\n                                }\n\n                                resolver.resolve(response.suggestions);\n                            } else {\n                                resolver.reject();\n                            }\n                            if (!noCallbacks) {\n                                options.onSearchComplete.call(\n                                    that.element,\n                                    query,\n                                    response.suggestions\n                                );\n                            }\n                        })\n                        .fail(function(jqXHR, textStatus, errorThrown) {\n                            resolver.reject();\n                            if (!noCallbacks && textStatus !== \"abort\") {\n                                options.onSearchError.call(\n                                    that.element,\n                                    query,\n                                    jqXHR,\n                                    textStatus,\n                                    errorThrown\n                                );\n                            }\n                        });\n                }\n            }\n        }\n        return resolver;\n    },\n\n    /**\n     * Sends an AJAX request to server suggest method.\n     * @param {Object} params request params\n     * @returns {$.Deferred} response promise\n     */\n    doGetSuggestions: function(params, method) {\n        var that = this,\n            request = $.ajax(\n                that.getAjaxParams(method, { data: utils.serialize(params) })\n            );\n\n        that.abortRequest();\n        that.currentRequest = request;\n        that.notify(\"request\");\n\n        request.always(function() {\n            that.currentRequest = null;\n            that.notify(\"request\");\n        });\n\n        return request;\n    },\n\n    isBadQuery: function(q) {\n        if (!this.options.preventBadQueries) {\n            return false;\n        }\n\n        var result = false;\n        $.each(this.badQueries, function(i, query) {\n            return !(result = q.indexOf(query) === 0);\n        });\n        return result;\n    },\n\n    abortRequest: function() {\n        var that = this;\n\n        if (that.currentRequest) {\n            that.currentRequest.abort();\n        }\n    },\n\n    /**\n     * Checks response format and data\n     * @return {Boolean} response contains acceptable data\n     */\n    processResponse: function(response) {\n        var that = this,\n            suggestions;\n\n        if (!response || !$.isArray(response.suggestions)) {\n            return false;\n        }\n\n        that.verifySuggestionsFormat(response.suggestions);\n        that.setUnrestrictedValues(response.suggestions);\n\n        if ($.isFunction(that.options.onSuggestionsFetch)) {\n            suggestions = that.options.onSuggestionsFetch.call(\n                that.element,\n                response.suggestions\n            );\n            if ($.isArray(suggestions)) {\n                response.suggestions = suggestions;\n            }\n        }\n\n        return true;\n    },\n\n    verifySuggestionsFormat: function(suggestions) {\n        if (typeof suggestions[0] === \"string\") {\n            $.each(suggestions, function(i, value) {\n                suggestions[i] = { value: value, data: null };\n            });\n        }\n    },\n\n    /**\n     * Gets string to set as input value\n     *\n     * @param suggestion\n     * @param {Object} [selectionOptions]\n     * @param {boolean} selectionOptions.hasBeenEnriched\n     * @param {boolean} selectionOptions.hasSameValues\n     * @return {string}\n     */\n    getSuggestionValue: function(suggestion, selectionOptions) {\n        var that = this,\n            formatSelected =\n                that.options.formatSelected || that.type.formatSelected,\n            hasSameValues = selectionOptions && selectionOptions.hasSameValues,\n            hasBeenEnriched =\n                selectionOptions && selectionOptions.hasBeenEnriched,\n            formattedValue,\n            typeFormattedValue = null;\n\n        if ($.isFunction(formatSelected)) {\n            formattedValue = formatSelected.call(that, suggestion);\n        }\n\n        if (typeof formattedValue !== \"string\") {\n            formattedValue = suggestion.value;\n\n            if (that.type.getSuggestionValue) {\n                typeFormattedValue = that.type.getSuggestionValue(that, {\n                    suggestion: suggestion,\n                    hasSameValues: hasSameValues,\n                    hasBeenEnriched: hasBeenEnriched\n                });\n\n                if (typeFormattedValue !== null) {\n                    formattedValue = typeFormattedValue;\n                }\n            }\n        }\n\n        return formattedValue;\n    },\n\n    hasSameValues: function(suggestion) {\n        var hasSame = false;\n\n        $.each(this.suggestions, function(i, anotherSuggestion) {\n            if (\n                anotherSuggestion.value === suggestion.value &&\n                anotherSuggestion !== suggestion\n            ) {\n                hasSame = true;\n                return false;\n            }\n        });\n\n        return hasSame;\n    },\n\n    assignSuggestions: function(suggestions, query) {\n        var that = this;\n        that.suggestions = suggestions;\n        that.notify(\"assignSuggestions\", query);\n    },\n\n    shouldRestrictValues: function() {\n        var that = this;\n        // treat suggestions value as restricted only if there is one constraint\n        // and restrict_value is true\n        return (\n            that.options.restrict_value &&\n            that.constraints &&\n            Object.keys(that.constraints).length == 1\n        );\n    },\n\n    /**\n     * Fills suggestion.unrestricted_value property\n     */\n    setUnrestrictedValues: function(suggestions) {\n        var that = this,\n            shouldRestrict = that.shouldRestrictValues(),\n            label = that.getFirstConstraintLabel();\n\n        $.each(suggestions, function(i, suggestion) {\n            if (!suggestion.unrestricted_value) {\n                suggestion.unrestricted_value = shouldRestrict\n                    ? label + \", \" + suggestion.value\n                    : suggestion.value;\n            }\n        });\n    },\n\n    areSuggestionsSame: function(a, b) {\n        return a && b && a.value === b.value && utils.areSame(a.data, b.data);\n    },\n\n    getNoSuggestionsHint: function() {\n        var that = this;\n        if (that.options.noSuggestionsHint === false) {\n            return false;\n        }\n        return that.options.noSuggestionsHint || that.type.noSuggestionsHint;\n    }\n};\n\n/**\n * Methods related to INPUT's behavior\n */\n\nvar methods = {\n    setupElement: function() {\n        // Remove autocomplete attribute to prevent native suggestions:\n        this.el\n            // if it stops working, see https://stackoverflow.com/q/15738259\n            // chrome is constantly changing this logic\n            .attr(\"autocomplete\", \"new-password\")\n            .attr(\"autocorrect\", \"off\")\n            .attr(\"autocapitalize\", \"off\")\n            .attr(\"spellcheck\", \"false\")\n            .addClass(\"suggestions-input\")\n            .css(\"box-sizing\", \"border-box\");\n    },\n\n    bindElementEvents: function() {\n        var that = this;\n\n        that.el.on(\"keydown\" + EVENT_NS, $.proxy(that.onElementKeyDown, that));\n        // IE is buggy, it doesn't trigger `input` on text deletion, so use following events\n        that.el.on(\n            [\n                \"keyup\" + EVENT_NS,\n                \"cut\" + EVENT_NS,\n                \"paste\" + EVENT_NS,\n                \"input\" + EVENT_NS\n            ].join(\" \"),\n            $.proxy(that.onElementKeyUp, that)\n        );\n        that.el.on(\"blur\" + EVENT_NS, $.proxy(that.onElementBlur, that));\n        that.el.on(\"focus\" + EVENT_NS, $.proxy(that.onElementFocus, that));\n    },\n\n    unbindElementEvents: function() {\n        this.el.off(EVENT_NS);\n    },\n\n    onElementBlur: function() {\n        var that = this;\n\n        // suggestion was clicked, blur should be ignored\n        // see container mousedown handler\n        if (that.cancelBlur) {\n            that.cancelBlur = false;\n            return;\n        }\n\n        if (that.options.triggerSelectOnBlur) {\n            if (!that.isUnavailable()) {\n                that.selectCurrentValue({ noSpace: true }).always(function() {\n                    // For NAMEs selecting keeps suggestions list visible, so hide it\n                    that.hide();\n                });\n            }\n        } else {\n            that.hide();\n        }\n\n        if (that.fetchPhase.abort) {\n            that.fetchPhase.abort();\n        }\n    },\n\n    onElementFocus: function() {\n        var that = this;\n\n        if (!that.cancelFocus) {\n            // defer methods to allow browser update input's style before\n            utils.delay($.proxy(that.completeOnFocus, that));\n        }\n        that.cancelFocus = false;\n    },\n\n    onElementKeyDown: function(e) {\n        var that = this;\n\n        if (that.isUnavailable()) {\n            return;\n        }\n\n        if (!that.visible) {\n            switch (e.which) {\n                // If suggestions are hidden and user presses arrow down, display suggestions\n                case KEYS.DOWN:\n                    that.suggest();\n                    break;\n                // if no suggestions available and user pressed Enter\n                case KEYS.ENTER:\n                    if (that.options.triggerSelectOnEnter) {\n                        that.triggerOnSelectNothing();\n                    }\n                    break;\n            }\n            return;\n        }\n\n        switch (e.which) {\n            case KEYS.ESC:\n                that.el.val(that.currentValue);\n                that.hide();\n                that.abortRequest();\n                break;\n\n            case KEYS.TAB:\n                if (that.options.tabDisabled === false) {\n                    return;\n                }\n                break;\n\n            case KEYS.ENTER:\n                if (that.options.triggerSelectOnEnter) {\n                    that.selectCurrentValue();\n                }\n                break;\n\n            case KEYS.SPACE:\n                if (that.options.triggerSelectOnSpace && that.isCursorAtEnd()) {\n                    e.preventDefault();\n                    that.selectCurrentValue({\n                        continueSelecting: true,\n                        dontEnrich: true\n                    }).fail(function() {\n                        // If all data fetched but nothing selected\n                        that.currentValue += \" \";\n                        that.el.val(that.currentValue);\n                        that.proceedChangedValue();\n                    });\n                }\n                return;\n            case KEYS.UP:\n                that.moveUp();\n                break;\n            case KEYS.DOWN:\n                that.moveDown();\n                break;\n            default:\n                return;\n        }\n\n        // Cancel event if function did not return:\n        e.stopImmediatePropagation();\n        e.preventDefault();\n    },\n\n    onElementKeyUp: function(e) {\n        var that = this;\n\n        if (that.isUnavailable()) {\n            return;\n        }\n\n        switch (e.which) {\n            case KEYS.UP:\n            case KEYS.DOWN:\n            case KEYS.ENTER:\n                return;\n        }\n\n        // Cancel pending change\n        clearTimeout(that.onChangeTimeout);\n        that.inputPhase.reject();\n\n        if (that.currentValue !== that.el.val()) {\n            that.proceedChangedValue();\n        }\n    },\n\n    proceedChangedValue: function() {\n        var that = this;\n\n        // Cancel fetching, because it became obsolete\n        that.abortRequest();\n\n        that.inputPhase = $.Deferred().done($.proxy(that.onValueChange, that));\n\n        if (that.options.deferRequestBy > 0) {\n            // Defer lookup in case when value changes very quickly:\n            that.onChangeTimeout = utils.delay(function() {\n                that.inputPhase.resolve();\n            }, that.options.deferRequestBy);\n        } else {\n            that.inputPhase.resolve();\n        }\n    },\n\n    onValueChange: function() {\n        var that = this,\n            currentSelection;\n\n        if (that.selection) {\n            currentSelection = that.selection;\n            that.selection = null;\n            that.trigger(\"InvalidateSelection\", currentSelection);\n        }\n\n        that.selectedIndex = -1;\n\n        that.update();\n        that.notify(\"valueChange\");\n    },\n\n    completeOnFocus: function() {\n        var that = this;\n\n        if (that.isUnavailable()) {\n            return;\n        }\n\n        if (that.isElementFocused()) {\n            that.update();\n            if (that.isMobile) {\n                that.setCursorAtEnd();\n                that.scrollToTop();\n            }\n        }\n    },\n\n    isElementFocused: function() {\n        return document.activeElement === this.element;\n    },\n\n    isElementDisabled: function() {\n        return Boolean(\n            this.element.getAttribute(\"disabled\") ||\n                this.element.getAttribute(\"readonly\")\n        );\n    },\n\n    isCursorAtEnd: function() {\n        var that = this,\n            valLength = that.el.val().length,\n            selectionStart,\n            range;\n\n        // `selectionStart` and `selectionEnd` are not supported by some input types\n        try {\n            selectionStart = that.element.selectionStart;\n            if (typeof selectionStart === \"number\") {\n                return selectionStart === valLength;\n            }\n        } catch (ex) {}\n\n        if (document.selection) {\n            range = document.selection.createRange();\n            range.moveStart(\"character\", -valLength);\n            return valLength === range.text.length;\n        }\n        return true;\n    },\n\n    setCursorAtEnd: function() {\n        var element = this.element;\n\n        // `selectionStart` and `selectionEnd` are not supported by some input types\n        try {\n            element.selectionEnd = element.selectionStart =\n                element.value.length;\n            element.scrollLeft = element.scrollWidth;\n        } catch (ex) {\n            element.value = element.value;\n        }\n    }\n};\n\n$.extend(Suggestions.prototype, methods);\n\nnotificator\n    .on(\"initialize\", methods.bindElementEvents)\n    .on(\"dispose\", methods.unbindElementEvents);\n\n/**\n * Methods related to plugin's authorization on server\n */\n\n// keys are \"[type][token]\"\nvar statusRequests = {};\n\nfunction resetTokens() {\n    utils.each(statusRequests, function(req) {\n        req.abort();\n    });\n    statusRequests = {};\n}\n\nresetTokens();\n\nvar methods$1 = {\n    checkStatus: function() {\n        var that = this,\n            token = (that.options.token && that.options.token.trim()) || \"\",\n            requestKey = that.options.type + token,\n            request = statusRequests[requestKey];\n\n        if (!request) {\n            request = statusRequests[requestKey] = jqapi.ajax(\n                that.getAjaxParams(\"status\")\n            );\n        }\n\n        request\n            .done(function(status, textStatus, request) {\n                if (status.search) {\n                    var plan = request.getResponseHeader(\"X-Plan\");\n                    status.plan = plan;\n                    jqapi.extend(that.status, status);\n                } else {\n                    triggerError(\"Service Unavailable\");\n                }\n            })\n            .fail(function() {\n                triggerError(request.statusText);\n            });\n\n        function triggerError(errorThrown) {\n            // If unauthorized\n            if (utils.isFunction(that.options.onSearchError)) {\n                that.options.onSearchError.call(\n                    that.element,\n                    null,\n                    request,\n                    \"error\",\n                    errorThrown\n                );\n            }\n        }\n    }\n};\n\nSuggestions.resetTokens = resetTokens;\n\njqapi.extend(Suggestions.prototype, methods$1);\n\nnotificator.on(\"setOptions\", methods$1.checkStatus);\n\n//export { methods, resetTokens };\n\nvar locationRequest;\nvar defaultGeoLocation = true;\n\nfunction resetLocation() {\n    locationRequest = null;\n    DEFAULT_OPTIONS.geoLocation = defaultGeoLocation;\n}\n\nvar methods$2 = {\n    checkLocation: function() {\n        var that = this,\n            providedLocation = that.options.geoLocation;\n\n        if (!that.type.geoEnabled || !providedLocation) {\n            return;\n        }\n\n        that.geoLocation = $.Deferred();\n        if ($.isPlainObject(providedLocation) || $.isArray(providedLocation)) {\n            that.geoLocation.resolve(providedLocation);\n        } else {\n            if (!locationRequest) {\n                locationRequest = $.ajax(\n                    that.getAjaxParams(\"iplocate/address\")\n                );\n            }\n\n            locationRequest\n                .done(function(resp) {\n                    var locationData =\n                        resp && resp.location && resp.location.data;\n                    if (locationData && locationData.kladr_id) {\n                        that.geoLocation.resolve({\n                            kladr_id: locationData.kladr_id\n                        });\n                    } else {\n                        that.geoLocation.reject();\n                    }\n                })\n                .fail(function() {\n                    that.geoLocation.reject();\n                });\n        }\n    },\n\n    /**\n     * Public method to get `geoLocation` promise\n     * @returns {$.Deferred}\n     */\n    getGeoLocation: function() {\n        return this.geoLocation;\n    },\n\n    constructParams: function() {\n        var that = this,\n            params = {};\n\n        if (\n            that.geoLocation &&\n            $.isFunction(that.geoLocation.promise) &&\n            that.geoLocation.state() == \"resolved\"\n        ) {\n            that.geoLocation.done(function(locationData) {\n                params[\"locations_boost\"] = $.makeArray(locationData);\n            });\n        }\n\n        return params;\n    }\n};\n\n// Disable this feature when GET method used. See SUG-202\nif (utils.getDefaultType() != \"GET\") {\n    $.extend(DEFAULT_OPTIONS, {\n        geoLocation: defaultGeoLocation\n    });\n\n    $.extend(Suggestions, {\n        resetLocation: resetLocation\n    });\n\n    $.extend(Suggestions.prototype, {\n        getGeoLocation: methods$2.getGeoLocation\n    });\n\n    notificator\n        .on(\"setOptions\", methods$2.checkLocation)\n        .on(\"requestParams\", methods$2.constructParams);\n}\n\nvar methods$3 = {\n    enrichSuggestion: function(suggestion, selectionOptions) {\n        var that = this,\n            resolver = $.Deferred();\n\n        if (\n            !that.options.enrichmentEnabled ||\n            !that.type.enrichmentEnabled ||\n            !that.requestMode.enrichmentEnabled ||\n            (selectionOptions && selectionOptions.dontEnrich)\n        ) {\n            return resolver.resolve(suggestion);\n        }\n\n        // if current suggestion is already enriched, use it\n        if (suggestion.data && suggestion.data.qc != null) {\n            return resolver.resolve(suggestion);\n        }\n\n        that.disableDropdown();\n\n        var query = that.type.getEnrichmentQuery(suggestion);\n        var customParams = that.type.enrichmentParams;\n        var requestOptions = {\n            noCallbacks: true,\n            useEnrichmentCache: true,\n            method: that.type.enrichmentMethod\n        };\n\n        // Set `currentValue` to make `processResponse` to consider enrichment response valid\n        that.currentValue = query;\n\n        // prevent request abortion during onBlur\n        that.enrichPhase = that\n            .getSuggestions(query, customParams, requestOptions)\n            .always(function() {\n                that.enableDropdown();\n            })\n            .done(function(suggestions) {\n                var enrichedSuggestion = suggestions && suggestions[0];\n\n                resolver.resolve(\n                    enrichedSuggestion || suggestion,\n                    !!enrichedSuggestion\n                );\n            })\n            .fail(function() {\n                resolver.resolve(suggestion);\n            });\n\n        return resolver;\n    },\n\n    /**\n     * Injects enriched suggestion into response\n     * @param response\n     * @param query\n     */\n    enrichResponse: function(response, query) {\n        var that = this,\n            enrichedSuggestion = that.enrichmentCache[query];\n\n        if (enrichedSuggestion) {\n            $.each(response.suggestions, function(i, suggestion) {\n                if (suggestion.value === query) {\n                    response.suggestions[i] = enrichedSuggestion;\n                    return false;\n                }\n            });\n        }\n    }\n};\n\n$.extend(Suggestions.prototype, methods$3);\n\n/**\n * Methods related to suggestions dropdown list\n */\n\nfunction highlightMatches(chunks) {\n    return $.map(chunks, function(chunk) {\n        var text = utils.escapeHtml(chunk.text);\n\n        if (text && chunk.matched) {\n            text = \"<strong>\" + text + \"</strong>\";\n        }\n        return text;\n    }).join(\"\");\n}\n\nfunction nowrapLinkedParts(formattedStr, nowrapClass) {\n    var delimitedParts = formattedStr.split(\", \");\n    // string has no delimiters, should not wrap\n    if (delimitedParts.length === 1) {\n        return formattedStr;\n    }\n    // disable word-wrap inside delimited parts\n    return $.map(delimitedParts, function(part) {\n        return '<span class=\"' + nowrapClass + '\">' + part + \"</span>\";\n    }).join(\", \");\n}\n\nfunction hasAnotherSuggestion(suggestions, suggestion) {\n    var result = false;\n\n    $.each(suggestions, function(i, s) {\n        result = s.value == suggestion.value && s != suggestion;\n        if (result) {\n            return false;\n        }\n    });\n\n    return result;\n}\n\nvar optionsUsed = {\n    width: \"auto\",\n    floating: false\n};\n\nvar methods$4 = {\n    createContainer: function() {\n        var that = this,\n            suggestionSelector = \".\" + that.classes.suggestion,\n            options = that.options,\n            $container = $(\"<div/>\")\n                .addClass(options.containerClass)\n                .css({\n                    display: \"none\"\n                });\n\n        that.$container = $container;\n\n        $container.on(\n            \"click\" + EVENT_NS,\n            suggestionSelector,\n            $.proxy(that.onSuggestionClick, that)\n        );\n    },\n\n    showContainer: function() {\n        this.$container.appendTo(\n            this.options.floating ? this.$body : this.$wrapper\n        );\n    },\n\n    getContainer: function() {\n        return this.$container.get(0);\n    },\n\n    removeContainer: function() {\n        var that = this;\n\n        if (that.options.floating) {\n            that.$container.remove();\n        }\n    },\n\n    setContainerOptions: function() {\n        var that = this,\n            mousedownEvent = \"mousedown\" + EVENT_NS;\n\n        that.$container.off(mousedownEvent);\n        if (that.options.floating) {\n            that.$container.on(mousedownEvent, $.proxy(that.onMousedown, that));\n        }\n    },\n\n    /**\n     * Listen for click event on suggestions list:\n     */\n    onSuggestionClick: function(e) {\n        var that = this,\n            $el = $(e.target),\n            index;\n\n        if (!that.dropdownDisabled) {\n            that.cancelFocus = true;\n            that.el.focus();\n\n            while ($el.length && !(index = $el.attr(\"data-index\"))) {\n                $el = $el.closest(\".\" + that.classes.suggestion);\n            }\n\n            if (index && !isNaN(index)) {\n                that.select(+index);\n            }\n        }\n    },\n\n    // Dropdown UI methods\n\n    getSuggestionsItems: function() {\n        return this.$container.children(\".\" + this.classes.suggestion);\n    },\n\n    toggleDropdownEnabling: function(enable) {\n        this.dropdownDisabled = !enable;\n        this.$container.attr(\"disabled\", !enable);\n    },\n\n    disableDropdown: function() {\n        this.toggleDropdownEnabling(false);\n    },\n\n    enableDropdown: function() {\n        this.toggleDropdownEnabling(true);\n    },\n\n    /**\n     * Shows if there are any suggestions besides currently selected\n     * @returns {boolean}\n     */\n    hasSuggestionsToChoose: function() {\n        var that = this;\n\n        return (\n            that.suggestions.length > 1 ||\n            (that.suggestions.length === 1 &&\n                (!that.selection ||\n                    $.trim(that.suggestions[0].value) !==\n                        $.trim(that.selection.value)))\n        );\n    },\n\n    suggest: function() {\n        var that = this,\n            options = that.options,\n            formatResult,\n            html = [];\n\n        if (!that.requestMode.userSelect) {\n            return;\n        }\n\n        // если нечего показывать, то сообщаем об этом\n        if (!that.hasSuggestionsToChoose()) {\n            if (that.suggestions.length) {\n                that.hide();\n                return;\n            } else {\n                var noSuggestionsHint = that.getNoSuggestionsHint();\n                if (noSuggestionsHint) {\n                    html.push(\n                        '<div class=\"' +\n                            that.classes.hint +\n                            '\">' +\n                            noSuggestionsHint +\n                            \"</div>\"\n                    );\n                } else {\n                    that.hide();\n                    return;\n                }\n            }\n        } else {\n            // Build hint html\n            if (options.hint && that.suggestions.length) {\n                html.push(\n                    '<div class=\"' +\n                        that.classes.hint +\n                        '\">' +\n                        options.hint +\n                        \"</div>\"\n                );\n            }\n            that.selectedIndex = -1;\n            // Build suggestions inner HTML:\n            that.suggestions.forEach(function(suggestion, i) {\n                if (suggestion == that.selection) {\n                    that.selectedIndex = i;\n                }\n                that.buildSuggestionHtml(suggestion, i, html);\n            });\n        }\n\n        html.push('<div class=\"' + CLASSES.promo + '\"></div>');\n        html.push(\"</div>\");\n\n        that.$container.html(html.join(\"\"));\n\n        // Select first value by default:\n        if (options.autoSelectFirst && that.selectedIndex === -1) {\n            that.selectedIndex = 0;\n        }\n        if (that.selectedIndex !== -1) {\n            that.getSuggestionsItems()\n                .eq(that.selectedIndex)\n                .addClass(that.classes.selected);\n        }\n\n        if ($.isFunction(options.beforeRender)) {\n            options.beforeRender.call(that.element, that.$container);\n        }\n\n        that.$container.show();\n        that.visible = true;\n    },\n\n    buildSuggestionHtml: function(suggestion, ordinal, html) {\n        html.push(\n            '<div class=\"' +\n                this.classes.suggestion +\n                '\" data-index=\"' +\n                ordinal +\n                '\">'\n        );\n\n        var formatResult =\n            this.options.formatResult ||\n            this.type.formatResult ||\n            this.formatResult;\n        html.push(\n            formatResult.call(\n                this,\n                suggestion.value,\n                this.currentValue,\n                suggestion,\n                {\n                    unformattableTokens: this.type.unformattableTokens\n                }\n            )\n        );\n\n        var labels = this.makeSuggestionLabel(this.suggestions, suggestion);\n        if (labels) {\n            html.push(\n                '<span class=\"' +\n                    this.classes.subtext_label +\n                    '\">' +\n                    utils.escapeHtml(labels) +\n                    \"</span>\"\n            );\n        }\n        html.push(\"</div>\");\n    },\n\n    wrapFormattedValue: function(value, suggestion) {\n        var that = this,\n            status = utils.getDeepValue(suggestion.data, \"state.status\");\n\n        return (\n            '<span class=\"' +\n            that.classes.value +\n            '\"' +\n            (status ? ' data-suggestion-status=\"' + status + '\"' : \"\") +\n            \">\" +\n            value +\n            \"</span>\"\n        );\n    },\n\n    formatResult: function(value, currentValue, suggestion, options) {\n        var that = this;\n\n        value = that.highlightMatches(value, currentValue, suggestion, options);\n\n        return that.wrapFormattedValue(value, suggestion);\n    },\n\n    /**\n     * Makes HTML contents for suggestion item\n     * @param {String} value string to be displayed as a value\n     * @param {String} currentValue contents of the textbox\n     * @param suggestion whole suggestion object with displaying value and other fields\n     * @param {Object} [options] set of flags:\n     *          `unformattableTokens` - array of search tokens, that are not to be highlighted\n     *          `maxLength` - if set, `value` is limited by this length\n     * @returns {String} HTML to be inserted in the list\n     */\n    highlightMatches: function(value, currentValue, suggestion, options) {\n        var that = this,\n            chunks = [],\n            unformattableTokens = options && options.unformattableTokens,\n            maxLength = options && options.maxLength,\n            tokens,\n            tokenMatchers,\n            preferredTokens,\n            rWords = utils.reWordExtractor(),\n            match,\n            word,\n            i,\n            chunk,\n            formattedStr;\n\n        if (!value) return \"\";\n\n        tokens = text_util.tokenize(currentValue, unformattableTokens);\n\n        tokenMatchers = $.map(tokens, function(token) {\n            return new RegExp(\n                \"^((.*)([\" +\n                    WORD_PARTS_DELIMITERS +\n                    \"]+))?\" +\n                    \"(\" +\n                    utils.escapeRegExChars(token) +\n                    \")\" +\n                    \"([^\" +\n                    WORD_PARTS_DELIMITERS +\n                    \"]*[\" +\n                    WORD_PARTS_DELIMITERS +\n                    \"]*)\",\n                \"i\"\n            );\n        });\n\n        // parse string by words\n        while ((match = rWords.exec(value)) && match[0]) {\n            word = match[1];\n            chunks.push({\n                text: word,\n\n                // upper case means a word is a name and can be highlighted even if presents in unformattableTokens\n                hasUpperCase: word.toLowerCase() !== word,\n                formatted: utils.formatToken(word),\n                matchable: true\n            });\n            if (match[2]) {\n                chunks.push({\n                    text: match[2]\n                });\n            }\n        }\n\n        // use simple loop because length can change\n        for (i = 0; i < chunks.length; i++) {\n            chunk = chunks[i];\n            if (\n                chunk.matchable &&\n                !chunk.matched &&\n                ($.inArray(chunk.formatted, unformattableTokens) === -1 ||\n                    chunk.hasUpperCase)\n            ) {\n                $.each(tokenMatchers, function(j, matcher) {\n                    var tokenMatch = matcher.exec(chunk.formatted),\n                        length,\n                        nextIndex = i + 1;\n\n                    if (tokenMatch) {\n                        tokenMatch = {\n                            before: tokenMatch[1] || \"\",\n                            beforeText: tokenMatch[2] || \"\",\n                            beforeDelimiter: tokenMatch[3] || \"\",\n                            text: tokenMatch[4] || \"\",\n                            after: tokenMatch[5] || \"\"\n                        };\n\n                        if (tokenMatch.before) {\n                            // insert chunk before current\n                            chunks.splice(\n                                i,\n                                0,\n                                {\n                                    text: chunk.text.substr(\n                                        0,\n                                        tokenMatch.beforeText.length\n                                    ),\n                                    formatted: tokenMatch.beforeText,\n                                    matchable: true\n                                },\n                                {\n                                    text: tokenMatch.beforeDelimiter\n                                }\n                            );\n                            nextIndex += 2;\n\n                            length = tokenMatch.before.length;\n                            chunk.text = chunk.text.substr(length);\n                            chunk.formatted = chunk.formatted.substr(length);\n                            i--;\n                        }\n\n                        length =\n                            tokenMatch.text.length + tokenMatch.after.length;\n                        if (chunk.formatted.length > length) {\n                            chunks.splice(nextIndex, 0, {\n                                text: chunk.text.substr(length),\n                                formatted: chunk.formatted.substr(length),\n                                matchable: true\n                            });\n                            chunk.text = chunk.text.substr(0, length);\n                            chunk.formatted = chunk.formatted.substr(0, length);\n                        }\n\n                        if (tokenMatch.after) {\n                            length = tokenMatch.text.length;\n                            chunks.splice(nextIndex, 0, {\n                                text: chunk.text.substr(length),\n                                formatted: chunk.formatted.substr(length)\n                            });\n                            chunk.text = chunk.text.substr(0, length);\n                            chunk.formatted = chunk.formatted.substr(0, length);\n                        }\n                        chunk.matched = true;\n                        return false;\n                    }\n                });\n            }\n        }\n\n        if (maxLength) {\n            for (i = 0; i < chunks.length && maxLength >= 0; i++) {\n                chunk = chunks[i];\n                maxLength -= chunk.text.length;\n                if (maxLength < 0) {\n                    chunk.text =\n                        chunk.text.substr(0, chunk.text.length + maxLength) +\n                        \"...\";\n                }\n            }\n            chunks.length = i;\n        }\n\n        formattedStr = highlightMatches(chunks);\n        return nowrapLinkedParts(formattedStr, that.classes.nowrap);\n    },\n\n    makeSuggestionLabel: function(suggestions, suggestion) {\n        var that = this,\n            fieldNames = that.type.fieldNames,\n            nameData = {},\n            rWords = utils.reWordExtractor(),\n            match,\n            word,\n            labels = [];\n\n        if (\n            fieldNames &&\n            hasAnotherSuggestion(suggestions, suggestion) &&\n            suggestion.data\n        ) {\n            $.each(fieldNames, function(field) {\n                var value = suggestion.data[field];\n                if (value) {\n                    nameData[field] = utils.formatToken(value);\n                }\n            });\n\n            if (!$.isEmptyObject(nameData)) {\n                while (\n                    (match = rWords.exec(\n                        utils.formatToken(suggestion.value)\n                    )) &&\n                    (word = match[1])\n                ) {\n                    $.each(nameData, function(i, value) {\n                        if (value == word) {\n                            labels.push(fieldNames[i]);\n                            delete nameData[i];\n                            return false;\n                        }\n                    });\n                }\n\n                if (labels.length) {\n                    return labels.join(\", \");\n                }\n            }\n        }\n    },\n\n    hide: function() {\n        var that = this;\n        that.visible = false;\n        that.selectedIndex = -1;\n        that.$container.hide().empty();\n    },\n\n    activate: function(index) {\n        var that = this,\n            $activeItem,\n            selected = that.classes.selected,\n            $children;\n\n        if (!that.dropdownDisabled) {\n            $children = that.getSuggestionsItems();\n\n            $children.removeClass(selected);\n\n            that.selectedIndex = index;\n\n            if (\n                that.selectedIndex !== -1 &&\n                $children.length > that.selectedIndex\n            ) {\n                $activeItem = $children.eq(that.selectedIndex);\n                $activeItem.addClass(selected);\n                return $activeItem;\n            }\n        }\n\n        return null;\n    },\n\n    deactivate: function(restoreValue) {\n        var that = this;\n\n        if (!that.dropdownDisabled) {\n            that.selectedIndex = -1;\n            that.getSuggestionsItems().removeClass(that.classes.selected);\n            if (restoreValue) {\n                that.el.val(that.currentValue);\n            }\n        }\n    },\n\n    moveUp: function() {\n        var that = this;\n\n        if (that.dropdownDisabled) {\n            return;\n        }\n        if (that.selectedIndex === -1) {\n            if (that.suggestions.length) {\n                that.adjustScroll(that.suggestions.length - 1);\n            }\n            return;\n        }\n\n        if (that.selectedIndex === 0) {\n            that.deactivate(true);\n            return;\n        }\n\n        that.adjustScroll(that.selectedIndex - 1);\n    },\n\n    moveDown: function() {\n        var that = this;\n\n        if (that.dropdownDisabled) {\n            return;\n        }\n        if (that.selectedIndex === that.suggestions.length - 1) {\n            that.deactivate(true);\n            return;\n        }\n\n        that.adjustScroll(that.selectedIndex + 1);\n    },\n\n    adjustScroll: function(index) {\n        var that = this,\n            $activeItem = that.activate(index),\n            itemTop,\n            itemBottom,\n            scrollTop = that.$container.scrollTop(),\n            containerHeight;\n\n        if (!$activeItem || !$activeItem.length) {\n            return;\n        }\n\n        itemTop = $activeItem.position().top;\n        if (itemTop < 0) {\n            that.$container.scrollTop(scrollTop + itemTop);\n        } else {\n            itemBottom = itemTop + $activeItem.outerHeight();\n            containerHeight = that.$container.innerHeight();\n            if (itemBottom > containerHeight) {\n                that.$container.scrollTop(\n                    scrollTop - containerHeight + itemBottom\n                );\n            }\n        }\n\n        that.el.val(that.suggestions[index].value);\n    }\n};\n\n$.extend(DEFAULT_OPTIONS, optionsUsed);\n\n$.extend(Suggestions.prototype, methods$4);\n\nnotificator\n    .on(\"initialize\", methods$4.createContainer)\n    .on(\"dispose\", methods$4.removeContainer)\n    .on(\"setOptions\", methods$4.setContainerOptions)\n    .on(\"ready\", methods$4.showContainer)\n    .on(\"assignSuggestions\", methods$4.suggest);\n\n/**\n * Methods related to CONSTRAINTS component\n */\nvar optionsUsed$1 = {\n    constraints: null,\n    restrict_value: false\n};\n\nvar fiasParamNames = [\n    \"country_iso_code\",\n    \"region_iso_code\",\n    \"region_fias_id\",\n    \"area_fias_id\",\n    \"city_fias_id\",\n    \"city_district_fias_id\",\n    \"settlement_fias_id\",\n    \"planning_structure_fias_id\",\n    \"street_fias_id\"\n];\n\n/**\n * Compares two suggestion objects\n * @param suggestion\n * @param instance other Suggestions instance\n */\nfunction belongsToArea(suggestion, instance) {\n    var parentSuggestion = instance.selection,\n        result = parentSuggestion && parentSuggestion.data && instance.bounds;\n\n    if (result) {\n        collection_util.each(instance.bounds.all, function(bound, i) {\n            return (result =\n                parentSuggestion.data[bound] === suggestion.data[bound]);\n        });\n    }\n    return result;\n}\n\n/**\n * Возвращает КЛАДР-код, обрезанный до последнего непустого уровня\n * 50 000 040 000 00 → 50 000 040\n * @param kladr_id\n * @returns {string}\n */\nfunction getSignificantKladrId(kladr_id) {\n    var significantKladrId = kladr_id.replace(/^(\\d{2})(\\d*?)(0+)$/g, \"$1$2\");\n    var length = significantKladrId.length;\n    var significantLength = -1;\n    if (length <= 2) {\n        significantLength = 2;\n    } else if (length > 2 && length <= 5) {\n        significantLength = 5;\n    } else if (length > 5 && length <= 8) {\n        significantLength = 8;\n    } else if (length > 8 && length <= 11) {\n        significantLength = 11;\n    } else if (length > 11 && length <= 15) {\n        significantLength = 15;\n    } else if (length > 15) {\n        significantLength = 19;\n    }\n    return text_util.padEnd(significantKladrId, significantLength, \"0\");\n}\n\n/**\n * @param {Object} data  fields\n * @param {Suggestions} instance\n * @constructor\n */\nvar ConstraintLocation = function(data, instance) {\n    var that = this,\n        fieldNames,\n        fiasFieldNames,\n        fiasFields = {};\n\n    that.instance = instance;\n    that.fields = {};\n    that.specificity = -1;\n\n    if (lang_util.isPlainObject(data) && instance.type.dataComponents) {\n        collection_util.each(instance.type.dataComponents, function(\n            component,\n            i\n        ) {\n            var fieldName = component.id;\n\n            if (component.forLocations && data[fieldName]) {\n                that.fields[fieldName] = data[fieldName];\n                that.specificity = i;\n            }\n        });\n    }\n\n    fieldNames = Object.keys(that.fields);\n    fiasFieldNames = collection_util.intersect(fieldNames, fiasParamNames);\n    if (fiasFieldNames.length) {\n        collection_util.each(fiasFieldNames, function(fieldName, index) {\n            fiasFields[fieldName] = that.fields[fieldName];\n        });\n        that.fields = fiasFields;\n        that.specificity = that.getFiasSpecificity(fiasFieldNames);\n    } else if (that.fields.kladr_id) {\n        that.fields = { kladr_id: that.fields.kladr_id };\n        that.significantKladr = getSignificantKladrId(that.fields.kladr_id);\n        that.specificity = that.getKladrSpecificity(that.significantKladr);\n    }\n};\n\njqapi.extend(ConstraintLocation.prototype, {\n    getLabel: function() {\n        return this.instance.type.composeValue(this.fields, {\n            saveCityDistrict: true\n        });\n    },\n\n    getFields: function() {\n        return this.fields;\n    },\n\n    isValid: function() {\n        return !lang_util.isEmptyObject(this.fields);\n    },\n\n    /**\n     * Возвращает specificity для КЛАДР\n     * Описание ниже, в getFiasSpecificity\n     * @param kladr_id\n     * @returns {number}\n     */\n    getKladrSpecificity: function(kladr_id) {\n        var specificity = -1;\n        var kladrLength = kladr_id.length;\n\n        collection_util.each(this.instance.type.dataComponents, function(\n            component,\n            i\n        ) {\n            if (\n                component.kladrFormat &&\n                kladrLength === component.kladrFormat.digits\n            ) {\n                specificity = i;\n            }\n        });\n\n        return specificity;\n    },\n\n    /**\n     * Возвращает особую величину specificity для ФИАС\n     * Specificity это индекс для массива this.instance.type.dataComponents\n     * до которого (включительно) обрежется этот массив при формировании строки адреса.\n     * Этот параметр нужен для случаев, когда в настройках плагина restrict_value = true\n     * Например, установлено ограничение (locations) по region_fias_id (Краснодарский край)\n     * В выпадашке нажимаем на \"г. Сочи\"\n     * Если restrict_value отключен, то выведется значение \"Краснодарский край, г Сочи\"\n     * Если включен, то просто \"г Сочи\"\n     *\n     * @param fiasFieldNames\n     * @returns {number}\n     */\n    getFiasSpecificity: function(fiasFieldNames) {\n        var specificity = -1;\n\n        collection_util.each(this.instance.type.dataComponents, function(\n            component,\n            i\n        ) {\n            if (\n                component.fiasType &&\n                fiasFieldNames.indexOf(component.fiasType) > -1 &&\n                specificity < i\n            ) {\n                specificity = i;\n            }\n        });\n\n        return specificity;\n    },\n\n    containsData: function(data) {\n        var result = true;\n\n        if (this.fields.kladr_id) {\n            return (\n                !!data.kladr_id &&\n                data.kladr_id.indexOf(this.significantKladr) === 0\n            );\n        } else {\n            collection_util.each(this.fields, function(value, fieldName) {\n                return (result =\n                    !!data[fieldName] &&\n                    data[fieldName].toLowerCase() === value.toLowerCase());\n            });\n\n            return result;\n        }\n    }\n});\n\nSuggestions.ConstraintLocation = ConstraintLocation;\n\n/**\n * @param {Object} data\n * @param {Object|Array} data.locations\n * @param {string} [data.label]\n * @param {boolean} [data.deletable]\n * @param {Suggestions} [instance]\n * @constructor\n */\nvar Constraint = function(data, instance) {\n    this.id = generateId(\"c\");\n    this.deletable = !!data.deletable;\n    this.instance = instance;\n\n    var locationsArray = collection_util.makeArray(\n        data && (data.locations || data.restrictions)\n    );\n    this.locations = locationsArray.map(function(data) {\n        return new ConstraintLocation(data, instance);\n    });\n\n    this.locations = this.locations.filter(function(location) {\n        return location.isValid();\n    });\n\n    this.label = data.label;\n    if (this.label == null && instance.type.composeValue) {\n        this.label = this.locations\n            .map(function(location) {\n                return location.getLabel();\n            })\n            .join(\", \");\n    }\n};\n\njqapi.extend(Constraint.prototype, {\n    isValid: function() {\n        return this.locations.length > 0;\n    },\n    getFields: function() {\n        return this.locations.map(function(location) {\n            return location.getFields();\n        });\n    }\n});\n\nvar methods$5 = {\n    createConstraints: function() {\n        var that = this;\n        that.constraints = {};\n    },\n    setupConstraints: function() {\n        var that = this,\n            constraints = that.options.constraints,\n            $parent;\n\n        if (!constraints) {\n            that.unbindFromParent();\n            return;\n        }\n\n        if (\n            jqapi.isJqObject(constraints) ||\n            typeof constraints === \"string\" ||\n            typeof constraints.nodeType === \"number\"\n        ) {\n            $parent = jqapi.select(constraints);\n            if (!$parent.is(that.constraints)) {\n                that.unbindFromParent();\n                if (!$parent.is(that.el)) {\n                    that.constraints = $parent;\n                    that.bindToParent();\n                }\n            }\n        } else {\n            collection_util.each(that.constraints, function(_, id) {\n                that.removeConstraint(id);\n            });\n            collection_util.each(\n                collection_util.makeArray(constraints),\n                function(constraint, i) {\n                    that.addConstraint(constraint);\n                }\n            );\n        }\n    },\n\n    filteredLocation: function(data) {\n        var locationComponents = [],\n            location = {};\n\n        collection_util.each(this.type.dataComponents, function() {\n            if (this.forLocations) locationComponents.push(this.id);\n        });\n\n        if (lang_util.isPlainObject(data)) {\n            // Copy to location only allowed fields\n            collection_util.each(data, function(value, key) {\n                if (value && locationComponents.indexOf(key) >= 0) {\n                    location[key] = value;\n                }\n            });\n        }\n\n        if (!lang_util.isEmptyObject(location)) {\n            return location.kladr_id\n                ? { kladr_id: location.kladr_id }\n                : location;\n        }\n    },\n\n    addConstraint: function(constraint) {\n        var that = this;\n\n        constraint = new Constraint(constraint, that);\n\n        if (constraint.isValid()) {\n            that.constraints[constraint.id] = constraint;\n        }\n    },\n\n    removeConstraint: function(id) {\n        var that = this;\n        delete that.constraints[id];\n    },\n\n    constructConstraintsParams: function() {\n        var that = this,\n            locations = [],\n            constraints = that.constraints,\n            parentInstance,\n            parentData,\n            params = {};\n\n        while (\n            jqapi.isJqObject(constraints) &&\n            (parentInstance = constraints.suggestions()) &&\n            !(parentData = object_util.getDeepValue(\n                parentInstance,\n                \"selection.data\"\n            ))\n        ) {\n            constraints = parentInstance.constraints;\n        }\n\n        if (jqapi.isJqObject(constraints)) {\n            parentData = new ConstraintLocation(\n                parentData,\n                parentInstance\n            ).getFields();\n\n            if (parentData) {\n                // if send city_fias_id for city request\n                // then no cities will responded\n                if (that.bounds.own.indexOf(\"city\") > -1) {\n                    delete parentData.city_fias_id;\n                }\n                params.locations = [parentData];\n                params.restrict_value = true;\n            }\n        } else {\n            if (constraints) {\n                collection_util.each(constraints, function(constraint, id) {\n                    locations = locations.concat(constraint.getFields());\n                });\n\n                if (locations.length) {\n                    params.locations = locations;\n                    params.restrict_value = that.options.restrict_value;\n                }\n            }\n        }\n\n        return params;\n    },\n\n    /**\n     * Returns label of the first constraint (if any), empty string otherwise\n     * @returns {String}\n     */\n    getFirstConstraintLabel: function() {\n        var that = this,\n            constraints_id =\n                lang_util.isPlainObject(that.constraints) &&\n                Object.keys(that.constraints)[0];\n\n        return constraints_id ? that.constraints[constraints_id].label : \"\";\n    },\n\n    bindToParent: function() {\n        var that = this;\n\n        that.constraints\n            .on(\n                [\n                    \"suggestions-select.\" + that.uniqueId,\n                    \"suggestions-invalidateselection.\" + that.uniqueId,\n                    \"suggestions-clear.\" + that.uniqueId\n                ].join(\" \"),\n                jqapi.proxy(that.onParentSelectionChanged, that)\n            )\n            .on(\n                \"suggestions-dispose.\" + that.uniqueId,\n                jqapi.proxy(that.onParentDispose, that)\n            );\n    },\n\n    unbindFromParent: function() {\n        var that = this,\n            $parent = that.constraints;\n\n        if (jqapi.isJqObject($parent)) {\n            $parent.off(\".\" + that.uniqueId);\n        }\n    },\n\n    onParentSelectionChanged: function(e, suggestion, valueChanged) {\n        // Don't clear if parent has been just enriched\n        if (e.type !== \"suggestions-select\" || valueChanged) {\n            this.clear();\n        }\n    },\n\n    onParentDispose: function(e) {\n        this.unbindFromParent();\n    },\n\n    getParentInstance: function() {\n        return (\n            jqapi.isJqObject(this.constraints) && this.constraints.suggestions()\n        );\n    },\n\n    shareWithParent: function(suggestion) {\n        // that is the parent control's instance\n        var that = this.getParentInstance();\n\n        if (\n            !that ||\n            that.type !== this.type ||\n            belongsToArea(suggestion, that)\n        ) {\n            return;\n        }\n\n        that.shareWithParent(suggestion);\n        that.setSuggestion(suggestion);\n    },\n\n    /**\n     * Pick only fields that absent in restriction\n     */\n    getUnrestrictedData: function(data) {\n        var that = this,\n            restrictedKeys = [],\n            unrestrictedData = {},\n            maxSpecificity = -1;\n\n        // Find most specific location that could restrict current data\n        collection_util.each(that.constraints, function(constraint, id) {\n            collection_util.each(constraint.locations, function(location, i) {\n                if (\n                    location.containsData(data) &&\n                    location.specificity > maxSpecificity\n                ) {\n                    maxSpecificity = location.specificity;\n                }\n            });\n        });\n\n        if (maxSpecificity >= 0) {\n            // Для городов-регионов нужно также отсечь и город\n            if (\n                data.region_kladr_id &&\n                data.region_kladr_id === data.city_kladr_id\n            ) {\n                restrictedKeys.push.apply(\n                    restrictedKeys,\n                    that.type.dataComponentsById[\"city\"].fields\n                );\n            }\n\n            // Collect all fieldnames from all restricted components\n            collection_util.each(\n                that.type.dataComponents.slice(0, maxSpecificity + 1),\n                function(component, i) {\n                    restrictedKeys.push.apply(restrictedKeys, component.fields);\n                }\n            );\n\n            // Copy skipping restricted fields\n            collection_util.each(data, function(value, key) {\n                if (restrictedKeys.indexOf(key) === -1) {\n                    unrestrictedData[key] = value;\n                }\n            });\n        } else {\n            unrestrictedData = data;\n        }\n\n        return unrestrictedData;\n    }\n};\n\njqapi.extend(DEFAULT_OPTIONS, optionsUsed$1);\n\njqapi.extend(Suggestions.prototype, methods$5);\n\n// Disable this feature when GET method used. See SUG-202\nif (ajax.getDefaultType() != \"GET\") {\n    notificator\n        .on(\"initialize\", methods$5.createConstraints)\n        .on(\"setOptions\", methods$5.setupConstraints)\n        .on(\"requestParams\", methods$5.constructConstraintsParams)\n        .on(\"dispose\", methods$5.unbindFromParent);\n}\n\n/**\n * Methods for selecting a suggestion\n */\n\nvar methods$6 = {\n    proceedQuery: function(query) {\n        var that = this;\n\n        if (query.length >= that.options.minChars) {\n            that.updateSuggestions(query);\n        } else {\n            that.hide();\n        }\n    },\n\n    /**\n     * Selects current or first matched suggestion, but firstly waits for data ready\n     * @param selectionOptions\n     * @returns {$.Deferred} promise, resolved with index of selected suggestion or rejected if nothing matched\n     */\n    selectCurrentValue: function(selectionOptions) {\n        var that = this,\n            result = jqapi.Deferred();\n\n        // force onValueChange to be executed if it has been deferred\n        that.inputPhase.resolve();\n\n        that.fetchPhase\n            .done(function() {\n                var index;\n\n                // When suggestion has already been selected and not modified\n                if (that.selection && !that.visible) {\n                    result.reject();\n                } else {\n                    index = that.findSuggestionIndex();\n\n                    that.select(index, selectionOptions);\n\n                    if (index === -1) {\n                        result.reject();\n                    } else {\n                        result.resolve(index);\n                    }\n                }\n            })\n            .fail(function() {\n                result.reject();\n            });\n\n        return result;\n    },\n\n    /**\n     * Selects first when user interaction is not supposed\n     */\n    selectFoundSuggestion: function() {\n        var that = this;\n\n        if (!that.requestMode.userSelect) {\n            that.select(0);\n        }\n    },\n\n    /**\n     * Selects current or first matched suggestion\n     * @returns {number} index of found suggestion\n     */\n    findSuggestionIndex: function() {\n        var that = this,\n            index = that.selectedIndex,\n            value;\n\n        if (index === -1) {\n            // matchers always operate with trimmed strings\n            value = that.el.val().trim();\n            if (value) {\n                that.type.matchers.some(function(matcher) {\n                    index = matcher(value, that.suggestions);\n                    return index !== -1;\n                });\n            }\n        }\n\n        return index;\n    },\n\n    /**\n     * Selects a suggestion at specified index\n     * @param index index of suggestion to select. Can be -1\n     * @param {Object} selectionOptions\n     * @param {boolean} [selectionOptions.continueSelecting]  prevents hiding after selection\n     * @param {boolean} [selectionOptions.noSpace]  prevents adding space at the end of current value\n     */\n    select: function(index, selectionOptions) {\n        var that = this,\n            suggestion = that.suggestions[index],\n            continueSelecting =\n                selectionOptions && selectionOptions.continueSelecting,\n            currentValue = that.currentValue,\n            hasSameValues;\n\n        // Prevent recursive execution\n        if (that.triggering[\"Select\"]) return;\n\n        // if no suggestion to select\n        if (!suggestion) {\n            if (!continueSelecting && !that.selection) {\n                that.triggerOnSelectNothing();\n            }\n            that.onSelectComplete(continueSelecting);\n            return;\n        }\n\n        hasSameValues = that.hasSameValues(suggestion);\n\n        that.enrichSuggestion(suggestion, selectionOptions).done(function(\n            enrichedSuggestion,\n            hasBeenEnriched\n        ) {\n            var newSelectionOptions = jqapi.extend(\n                {\n                    hasBeenEnriched: hasBeenEnriched,\n                    hasSameValues: hasSameValues\n                },\n                selectionOptions\n            );\n            that.selectSuggestion(\n                enrichedSuggestion,\n                index,\n                currentValue,\n                newSelectionOptions\n            );\n        });\n    },\n\n    /**\n     * Formats and selects final (enriched) suggestion\n     * @param suggestion\n     * @param index\n     * @param lastValue\n     * @param {Object} selectionOptions\n     * @param {boolean} [selectionOptions.continueSelecting]  prevents hiding after selection\n     * @param {boolean} [selectionOptions.noSpace]  prevents adding space at the end of current value\n     * @param {boolean} selectionOptions.hasBeenEnriched\n     * @param {boolean} selectionOptions.hasSameValues\n     */\n    selectSuggestion: function(suggestion, index, lastValue, selectionOptions) {\n        var that = this,\n            continueSelecting = selectionOptions.continueSelecting,\n            assumeDataComplete =\n                !that.type.isDataComplete ||\n                that.type.isDataComplete.call(that, suggestion),\n            currentSelection = that.selection;\n\n        // Prevent recursive execution\n        if (that.triggering[\"Select\"]) return;\n\n        if (that.type.alwaysContinueSelecting) {\n            continueSelecting = true;\n        }\n\n        if (assumeDataComplete) {\n            continueSelecting = false;\n        }\n\n        // `suggestions` cat be empty, e.g. during `fixData`\n        if (selectionOptions.hasBeenEnriched && that.suggestions[index]) {\n            that.suggestions[index].data = suggestion.data;\n        }\n\n        if (that.requestMode.updateValue) {\n            that.checkValueBounds(suggestion);\n            that.currentValue = that.getSuggestionValue(\n                suggestion,\n                selectionOptions\n            );\n\n            if (\n                that.currentValue &&\n                !selectionOptions.noSpace &&\n                !assumeDataComplete\n            ) {\n                that.currentValue += \" \";\n            }\n            that.el.val(that.currentValue);\n        }\n\n        if (that.currentValue) {\n            that.selection = suggestion;\n            if (!that.areSuggestionsSame(suggestion, currentSelection)) {\n                that.trigger(\n                    \"Select\",\n                    suggestion,\n                    that.currentValue != lastValue\n                );\n            }\n            if (that.requestMode.userSelect) {\n                that.onSelectComplete(continueSelecting);\n            }\n        } else {\n            that.selection = null;\n            that.triggerOnSelectNothing();\n        }\n\n        that.shareWithParent(suggestion);\n    },\n\n    onSelectComplete: function(continueSelecting) {\n        var that = this;\n\n        if (continueSelecting) {\n            that.selectedIndex = -1;\n            that.updateSuggestions(that.currentValue);\n        } else {\n            that.hide();\n        }\n    },\n\n    triggerOnSelectNothing: function() {\n        var that = this;\n\n        if (!that.triggering[\"SelectNothing\"]) {\n            that.trigger(\"SelectNothing\", that.currentValue);\n        }\n    },\n\n    trigger: function(event) {\n        var that = this,\n            args = utils.slice(arguments, 1),\n            callback = that.options[\"on\" + event];\n\n        that.triggering[event] = true;\n        if (utils.isFunction(callback)) {\n            callback.apply(that.element, args);\n        }\n        that.el.trigger.call(\n            that.el,\n            \"suggestions-\" + event.toLowerCase(),\n            args\n        );\n        that.triggering[event] = false;\n    }\n};\n\njqapi.extend(Suggestions.prototype, methods$6);\n\nnotificator.on(\"assignSuggestions\", methods$6.selectFoundSuggestion);\n\n/**\n * features for connected instances\n */\n\nvar optionsUsed$2 = {\n    bounds: null,\n};\n\nvar methods$7 = {\n    setupBounds: function() {\n        this.bounds = {\n            from: null,\n            to: null,\n        };\n    },\n\n    setBoundsOptions: function() {\n        var that = this,\n            boundsAvailable = [],\n            newBounds = $.trim(that.options.bounds).split(\"-\"),\n            boundFrom = newBounds[0],\n            boundTo = newBounds[newBounds.length - 1],\n            boundsOwn = [],\n            boundIsOwn,\n            boundsAll = [];\n\n        if (that.type.dataComponents) {\n            $.each(that.type.dataComponents, function() {\n                if (this.forBounds) {\n                    boundsAvailable.push(this.id);\n                }\n            });\n        }\n\n        if (boundsAvailable.indexOf(boundFrom) === -1) {\n            boundFrom = null;\n        }\n\n        if (boundsAvailable.indexOf(boundTo) === -1) {\n            boundTo = null;\n        }\n\n        if (boundFrom || boundTo) {\n            boundIsOwn = !boundFrom;\n            $.each(boundsAvailable, function(i, bound) {\n                if (bound == boundFrom) {\n                    boundIsOwn = true;\n                }\n                boundsAll.push(bound);\n                if (boundIsOwn) {\n                    boundsOwn.push(bound);\n                }\n                if (bound == boundTo) {\n                    return false;\n                }\n            });\n        }\n\n        that.bounds.from = boundFrom;\n        that.bounds.to = boundTo;\n        that.bounds.all = boundsAll;\n        that.bounds.own = boundsOwn;\n    },\n\n    constructBoundsParams: function() {\n        var that = this,\n            params = {};\n\n        if (that.bounds.from) {\n            params[\"from_bound\"] = { value: that.bounds.from };\n        }\n        if (that.bounds.to) {\n            params[\"to_bound\"] = { value: that.bounds.to };\n        }\n\n        return params;\n    },\n\n    /**\n     * Подстраивает suggestion.value под that.bounds.own\n     * Ничего не возвращает, меняет в самом suggestion\n     * @param suggestion\n     */\n    checkValueBounds: function(suggestion) {\n        var that = this,\n            valueData;\n\n        // If any bounds set up\n        if (that.bounds.own.length && that.type.composeValue) {\n            // делаем копию\n            var bounds = that.bounds.own.slice(0);\n            // если роль текущего инстанса плагина показывать только район города\n            // то для корректного формировния нужен city_district_fias_id\n            if (bounds.length === 1 && bounds[0] === \"city_district\") {\n                bounds.push(\"city_district_fias_id\");\n            }\n            valueData = that.copyDataComponents(suggestion.data, bounds);\n            suggestion.value = that.type.composeValue(valueData);\n        }\n    },\n\n    copyDataComponents: function(data, components) {\n        var result = {},\n            dataComponentsById = this.type.dataComponentsById;\n\n        if (dataComponentsById) {\n            $.each(components, function(i, component) {\n                $.each(dataComponentsById[component].fields, function(\n                    i,\n                    field\n                ) {\n                    if (data[field] != null) {\n                        result[field] = data[field];\n                    }\n                });\n            });\n        }\n\n        return result;\n    },\n\n    getBoundedKladrId: function(kladr_id, boundsRange) {\n        var boundTo = boundsRange[boundsRange.length - 1],\n            kladrFormat;\n\n        $.each(this.type.dataComponents, function(i, component) {\n            if (component.id === boundTo) {\n                kladrFormat = component.kladrFormat;\n                return false;\n            }\n        });\n\n        return (\n            kladr_id.substr(0, kladrFormat.digits) +\n            new Array((kladrFormat.zeros || 0) + 1).join(\"0\")\n        );\n    },\n};\n\n$.extend(DEFAULT_OPTIONS, optionsUsed$2);\n\n$.extend(Suggestions.prototype, methods$7);\n\nnotificator\n    .on(\"initialize\", methods$7.setupBounds)\n    .on(\"setOptions\", methods$7.setBoundsOptions)\n    .on(\"requestParams\", methods$7.constructBoundsParams);\n\n/**\n * Утилиты для работы с DOM.\n */\nvar dom = {\n    /**\n     * Выбрать первый элемент с указанным классом.\n     */\n    selectByClass: function(classname, parent) {\n        var selector = \".\" + classname;\n        if (parent) {\n            return parent.querySelector(selector);\n        } else {\n            return document.querySelector(selector);\n        }\n    },\n\n    /**\n     * Добавить элементу класс.\n     */\n    addClass: function(element, className) {\n        var list = element.className.split(\" \");\n        if (list.indexOf(className) === -1) {\n            list.push(className);\n        }\n        element.className = list.join(\" \");\n    },\n\n    /**\n     * Добавить элементу стиль.\n     */\n    setStyle: function(element, name, value) {\n        element.style[name] = value;\n    },\n\n    /**\n     * Подписаться на событие на элементе.\n     * @param {Element} element - элемент\n     * @param {string} eventName - название события\n     * @param {string} namespace - пространство имён события\n     * @param {Function} callback - функция-обработчик события\n     */\n    listenTo: function(element, eventName, namespace, callback) {\n        element.addEventListener(eventName, callback, false);\n        if (namespace) {\n            if (!eventsByNamespace[namespace]) {\n                eventsByNamespace[namespace] = [];\n            }\n            eventsByNamespace[namespace].push({\n                eventName: eventName,\n                element: element,\n                callback: callback\n            });\n        }\n    },\n\n    /**\n     * Отписаться от всех событий с указанным пространством имён.\n     */\n    stopListeningNamespace: function(namespace) {\n        var events = eventsByNamespace[namespace];\n        if (events) {\n            events.forEach(function(event) {\n                event.element.removeEventListener(\n                    event.eventName,\n                    event.callback,\n                    false\n                );\n            });\n        }\n    }\n};\n\n/**\n * Промо-ссылка в списке подсказок.\n */\nvar FREE_PLAN = \"FREE\";\nvar LINK =\n    \"https://dadata.ru/suggestions/?utm_source=dadata&utm_medium=module&utm_campaign=suggestions-jquery\";\nvar PREFIX = \"\";\nvar SUFFIX = \"\";\nvar IMAGE =\n    '<svg version=\"1.1\" viewBox=\"0 0 128 38\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m128 19v16.077c0 1.614-1.302 2.923-2.909 2.923h-122.18c-1.607 0-2.909-1.309-2.909-2.923v-32.154c-0-1.614 1.302-2.923 2.909-2.923h122.18c1.607 0 2.909 1.309 2.909 2.923z\" fill=\"#ef4741\"/><path d=\"m59.52 7.912h-8.902v22.098h9.92c3.724 0 9.872-0.341 9.872-6.703v-8.682c-0.01-6.372-7.166-6.713-10.89-6.713zm5.595 14.81c0 3.186-2.308 3.508-4.936 3.508h-4.276v-14.538h3.287c2.628 0 5.954 0.322 5.954 3.508zm-46.545-14.81h-8.834v22.098h9.871c3.724 0 9.872-0.341 9.872-6.703v-8.682c0-6.372-7.137-6.713-10.88-6.713zm5.595 14.81c0 3.186-2.308 3.508-4.936 3.508h-4.247v-14.538h3.258c2.628 0 5.954 0.322 5.954 3.508zm71.757-13.953h-4.945v16.301c-0.018 0.785 0.113 1.565 0.388 2.3 0.203 0.569 0.535 1.082 0.97 1.5 0.446 0.385 0.962 0.677 1.522 0.858 0.58 0.205 1.182 0.343 1.794 0.409 0.575 0.052 1.248 0.081 2.017 0.088 0.917-1e-3 1.834-0.057 2.744-0.166v-2.796h-1.765c-0.393 0.055-0.795 0.032-1.18-0.071-0.385-0.102-0.745-0.28-1.06-0.524-0.413-0.691-0.59-1.498-0.504-2.299v-8.068h4.509v-3.06h-4.509zm20.364 5.535c-1.176-0.741-3.278-1.108-6.303-1.101h-5.741v0.243l0.708 2.826h5.033c0.837-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.458 0.553 0.579 0.891 0.121 0.339 0.162 0.701 0.119 1.058v1.12h-5.527c-1.939 0-3.271 0.38-3.995 1.14-0.725 0.76-1.099 2.127-1.125 4.102 0 2.154 0.359 3.06 1.086 3.742 0.728 0.682 2.134 1.188 4.344 1.188h6.847c1.706 0 3.345-0.808 3.345-2.747v-8.584c0-2.176-0.589-3.635-1.765-4.375zm-3.19 12.959h-3.249c-0.735 0.081-1.478-0.036-2.152-0.342-0.285-0.227-0.427-0.876-0.427-1.948s0.136-1.741 0.407-2.007c0.625-0.331 1.336-0.46 2.037-0.371h3.384zm-26.667-12.959c-1.176-0.741-3.277-1.108-6.303-1.101h-5.741v0.243l0.708 2.826h5.033c0.836-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.457 0.553 0.578 0.891 0.121 0.339 0.162 0.701 0.12 1.058v1.12h-5.556c-1.939 0-3.271 0.38-3.995 1.14s-1.086 2.127-1.086 4.102c0 2.154 0.359 3.06 1.086 3.742s2.133 1.188 4.344 1.188h6.846c1.717 0 3.346-0.808 3.346-2.747v-8.584c-7e-3 -2.176-0.595-3.635-1.765-4.375zm-3.181 12.959h-3.248c-0.735 0.081-1.478-0.037-2.153-0.342-0.284-0.227-0.426-0.876-0.426-1.948s0.135-1.741 0.407-2.007c0.624-0.331 1.336-0.46 2.036-0.371h3.384zm-37.74-12.959c-1.176-0.741-3.278-1.108-6.303-1.101h-5.712v0.243l0.708 2.826h5.033c0.837-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.457 0.553 0.578 0.891 0.121 0.339 0.162 0.701 0.12 1.058v1.12h-5.556c-1.939 0-3.271 0.38-3.995 1.14s-1.099 2.127-1.125 4.102c0 2.154 0.359 3.06 1.086 3.742s2.133 1.188 4.344 1.188h6.846c1.717 0 3.346-0.808 3.346-2.747v-8.584c0-2.176-0.589-3.635-1.765-4.375zm-3.181 12.959h-3.219c-0.735 0.081-1.478-0.037-2.153-0.342-0.284-0.227-0.427-0.876-0.427-1.948s0.136-1.741 0.408-2.007c0.624-0.331 1.336-0.46 2.036-0.371h3.384z\" fill=\"#fff\"/></svg>';\n\nfunction Promo(plugin) {\n    this.plan = plugin.status.plan;\n    var container = plugin.getContainer();\n    this.element = dom.selectByClass(CLASSES.promo, container);\n}\n\nPromo.prototype.show = function() {\n    if (this.plan !== FREE_PLAN) {\n        return;\n    }\n    if (!this.element) {\n        return;\n    }\n    this.setStyles();\n    this.setHtml();\n};\n\nPromo.prototype.setStyles = function() {\n    this.element.style.display = \"block\";\n};\n\nPromo.prototype.setHtml = function() {\n    this.element.innerHTML =\n        '<a target=\"_blank\" tabindex=\"-1\" href=\"' +\n        LINK +\n        '\">' +\n        PREFIX +\n        IMAGE +\n        SUFFIX +\n        \"</a>\";\n};\n\nfunction show() {\n    new Promo(this).show();\n}\n\nnotificator.on(\"assignSuggestions\", show);\n\nSuggestions.defaultOptions = DEFAULT_OPTIONS;\n\nSuggestions.version = \"22.6.0\";\n\n$.Suggestions = Suggestions;\n\n// Create chainable jQuery plugin:\n$.fn.suggestions = function(options, args) {\n    // If function invoked without argument return\n    // instance of the first matched element:\n    if (arguments.length === 0) {\n        return this.first().data(DATA_ATTR_KEY);\n    }\n\n    return this.each(function() {\n        var inputElement = $(this),\n            instance = inputElement.data(DATA_ATTR_KEY);\n\n        if (typeof options === \"string\") {\n            if (instance && typeof instance[options] === \"function\") {\n                instance[options](args);\n            }\n        } else {\n            // If instance already exists, destroy it:\n            if (instance && instance.dispose) {\n                instance.dispose();\n            }\n            instance = new Suggestions(this, options);\n            inputElement.data(DATA_ATTR_KEY, instance);\n        }\n    });\n};\n\n})));\n"],
  "mappings": "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A,QACJ;AAAA,MACJ;AAEA,UAAI,oBAAoB;AAAA,QACpB;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,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",
  "names": ["token", "historyValue", "e", "response", "request", "data", "location", "i"]
}
